## Portfolio repo

This is a bespoke portfolio built with Next.js, Tailwind, and Lenis smooth scrolling.

### Development

```bash
pnpm install
pnpm dev
```

### Quality gates

```bash
# Lint + TypeScript in one go
pnpm check

# Individual commands if you prefer
pnpm lint
pnpm type-check

# Production bundle analysis without lint overhead
pnpm analyze
```

### Showcase code snapshots

The highlights grid is populated from static JSON generated by a small helper script. Because many sources live in private repositories, you need a personal access token with `repo` scope.

1. Create a classic GitHub token with at least `repo` access.
2. Export it before running the fetcher:

	```bash
	export GITHUB_TOKEN=ghp_yourTokenHere
	pnpm showcase:pull
	```

The script reads `scripts/showcase.config.json`, downloads the referenced files (full file contents), stamps the highlighted line ranges, and writes them into `src/data/showcase.json`. The `Showcase` component simply reads the JSON—no runtime GitHub calls ship to production.

### Build

```bash
pnpm build
```

### Deploying to GitHub Pages ✅

This repository supports deploying the static export to GitHub Pages. The workflow in `.github/workflows/deploy-gh-pages.yml` builds the site and publishes the `out` folder to the `gh-pages` branch.

Notes and steps:

- The project uses a conditional `basePath` and `assetPrefix` when the `GITHUB_PAGES` environment variable is set to `true`. The workflow sets this variable for the build step so your app is exported with the correct path (`/portfolio`).
- If you prefer to host via the `docs` folder instead, change the workflow to copy `out` into `docs/` and configure Pages to use the `docs` folder on the `main` branch.
- The action also creates an `.nojekyll` file to prevent Jekyll from processing the output and possibly removing files prefixed with `_` (like `/_next`).
 - After you push the workflow to `main`, go to **Settings > Pages** in the GitHub repository and ensure you select the `gh-pages` branch and the `/` folder as the deployment source (the `peaceiris/actions-gh-pages` action will push to `gh-pages` automatically). GitHub Pages should then publish your site at: `https://<username>.github.io/portfolio`.

To deploy manually (locally):

```bash
pnpm install
pnpm run deploy
# then push the 'out' content to a branch named 'gh-pages' (or use 'gh-pages' npm package)
```

### Performance + SEO considerations

- Smooth scrolling now respects `prefers-reduced-motion` and lazily loads Lenis only when needed.
- Heavy highlight code blocks render on demand so the initial bundle stays lean.
- Navigation interactions avoid extra JavaScript dependencies, improving hydration costs.
- Metadata includes canonical URLs, Open Graph/Twitter images, and JSON-LD for richer search snippets.
