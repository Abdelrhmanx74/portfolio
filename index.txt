1:"$Sreact.fragment"
2:I[38839,["/portfolio/_next/static/chunks/5dad9235fb3f39fc.js"],""]
3:I[47274,["/portfolio/_next/static/chunks/5dad9235fb3f39fc.js"],"default"]
4:I[30372,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"default"]
5:I[33014,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"default"]
6:I[75412,["/portfolio/_next/static/chunks/5dad9235fb3f39fc.js","/portfolio/_next/static/chunks/72439a227d5e6800.js","/portfolio/_next/static/chunks/28cbca02560df345.js"],"Image"]
14:I[40794,["/portfolio/_next/static/chunks/5dad9235fb3f39fc.js"],"default"]
:HL["/portfolio/_next/static/chunks/292747b4a507fd8f.css","style"]
:HL["/portfolio/_next/static/media/70bc3e132a0a741e-s.p.15008bfb.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
0:{"P":null,"b":"2XrBZrKVnqft11xA4nS9B","p":"/portfolio","c":["",""],"i":false,"f":[[["",{"children":["__PAGE__",{}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/portfolio/_next/static/chunks/292747b4a507fd8f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/portfolio/_next/static/chunks/5dad9235fb3f39fc.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":["$","body",null,{"className":"dark jetbrains_mono_106a6443-module__YvkHEa__variable antialiased","children":[["$","$L2",null,{"id":"schema-person","type":"application/ld+json","strategy":"beforeInteractive","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"Person\",\"name\":\"Abdelrhman Mahmoud\",\"url\":\"https://abdelrhmanx74.github.io/portfolio\",\"image\":\"https://abdelrhmanx74.github.io/portfolio/me.jpg\",\"jobTitle\":\"Frontend Developer\",\"description\":\"Frontend developer specializing in React, Next.js, and TypeScript, building fast, scalable web applications.\",\"sameAs\":[\"https://linkedin.com/in/abdelrhmanx74\",\"https://github.com/abdelrhmanx74\",\"mailto:abdelrhmanx74@gmail.com\"]}"}}],["$","$L2",null,{"id":"schema-website","type":"application/ld+json","strategy":"beforeInteractive","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"WebSite\",\"name\":\"Abdelrhman Mahmoud Portfolio\",\"url\":\"https://abdelrhmanx74.github.io/portfolio\",\"potentialAction\":{\"@type\":\"SearchAction\",\"target\":\"https://abdelrhmanx74.github.io/portfolio/?q={search_term_string}\",\"query-input\":\"required name=search_term_string\"}}"}}],["$","$L3",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[["$","div",null,{"className":"min-h-screen","children":["$","main",null,{"className":"pt-12","children":[["$","section",null,{"data-scroll-section":true,"className":"min-h-screen flex items-center justify-center py-12 sm:py-24 px-6","children":["$","div",null,{"className":"max-w-5xl w-full","children":[["$","div",null,{"className":"mb-12","children":["$","div",null,{"className":"flex flex-col sm:flex-row items-center gap-4 mb-8","children":[["$","div",null,{"className":"w-full flex flex-col items-center sm:hidden mb-2","children":[["$","h1",null,{"className":"text-2xl font-bold mb-4","children":"Abdelrhman Mahmoud"}],["$","div",null,{"className":"w-60 h-60 md:w-48 md:h-48 bg-muted border border-border flex items-center justify-center text-6xl overflow-hidden rounded-full","children":["$","$L6",null,{"src":"/me.jpg","alt":"Abdelrhman Mahmoud - Frontend Developer","width":220,"height":220,"priority":true,"className":"object-cover w-full h-full"}]}],["$","p",null,{"className":"text-sm text-muted-foreground mt-4","children":"I like code tidy, side projects half-done (on purpose), and bugs that fear me more than deadlines. I'm for new challenges and opportunities to learn and grow."}]]}],"$L7","$L8","$L9"]}]}],"$La"]}]}],"$Lb","$Lc","$Ld","$Le","$Lf"]}]}],["$L10","$L11"],"$L12"]}],{},null,false]},null,false],"$L13",false]],"m":"$undefined","G":["$14",["$L15"]],"s":false,"S":true}
1a:I[95523,["/portfolio/_next/static/chunks/5dad9235fb3f39fc.js","/portfolio/_next/static/chunks/72439a227d5e6800.js","/portfolio/_next/static/chunks/28cbca02560df345.js"],"default"]
41:I[71236,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"OutletBoundary"]
43:I[19756,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"AsyncMetadataOutlet"]
45:I[71236,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"ViewportBoundary"]
47:I[71236,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"MetadataBoundary"]
48:"$Sreact.suspense"
7:["$","div",null,{"className":"w-32 h-32 md:w-40 md:h-40 bg-muted border border-border hidden sm:flex items-center justify-center text-6xl overflow-hidden","children":["$","$L6",null,{"src":"/me.jpg","alt":"Abdelrhman Mahmoud - Frontend Developer","width":160,"height":160,"priority":true,"className":"object-cover w-full h-full"}]}]
8:["$","div",null,{"className":"flex-1 hidden sm:block","children":[["$","p",null,{"className":"text-xs sm:text-sm md:text-base text-muted-foreground mb-2","data-testid":"text-hero-intro","children":"Abdelrhman Mahmoud, Frontend Developer"}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed","data-testid":"text-hero-description","children":"I like code tidy, side projects half-done (on purpose), and bugs that fear me more than deadlines. I'm always looking for new challenges and opportunities to learn and grow."}]]}]
9:["$","div",null,{"className":"w-full sm:hidden mt-2 hidden"}]
a:["$","div",null,{"className":"space-y-6 border-l-2 border-border pl-6","children":["$","div",null,{"children":[["$","p",null,{"className":"text-xs sm:text-sm text-muted-foreground mb-2","children":"Hi, I'm Abdelrhman Mahmoud"}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed","data-testid":"text-hero-about","children":"I'm a self-taught frontend developer with a hands-on approach and an appreciation for clean, scalable UI. I recently left Dabbo Tech to focus on my final year of high school, and now I'm ready to jump back into the workforce. I'm not attending college — I'm learning backend development (Express, NestJS) instead, getting myself semi-ready for a full-stack role. I care about best practices, developer experience, and writing code that's clean, readable, and easy to maintain."}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed mt-2","children":"When I'm not coding, you'll find me gaming, listening to music, or watching something."}]]}]}]
b:["$","section",null,{"id":"experience","data-scroll-section":true,"className":"py-12 sm:py-24 px-6","children":["$","div",null,{"className":"max-w-5xl mx-auto","children":[["$","h2",null,{"className":"text-xl sm:text-2xl md:text-3xl mb-12 font-normal","data-testid":"text-experience-heading","children":"Work Experience"}],["$","div",null,{"className":"relative border-l-2 border-border pl-8","children":["$","div",null,{"className":"relative","data-testid":"card-experience-dabbo","children":[["$","div",null,{"className":"absolute left-0 top-0 w-4 h-4 rounded-full -translate-x-10.25 bg-foreground border-2 border-background"}],["$","div",null,{"className":"space-y-4","children":[["$","div",null,{"children":[["$","h3",null,{"className":"text-base sm:text-lg md:text-xl mb-1","data-testid":"text-experience-title","children":"Frontend Developer | Dabbo Tech | July 2023 – Feb 2025"}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base text-muted-foreground mb-1","data-testid":"text-experience-company","children":"At Dabbo Tech, I worked on building production-ready web applications using React, Next.js, and TypeScript. My focus was on creating scalable, maintainable code and delivering smooth user experiences while considering best practices and ReactJS patterns."}]]}],["$","ul",null,{"className":"space-y-2 text-xs sm:text-sm md:text-base leading-relaxed","children":[["$","li",null,{"className":"flex gap-2","data-testid":"text-experience-achievement-1","children":[["$","span",null,{"className":"text-muted-foreground","children":"→"}],["$","span",null,{"children":"Rebuilt complex frontends from scratch, improving performance and design consistency."}]]}],["$","li",null,{"className":"flex gap-2","data-testid":"text-experience-achievement-2","children":[["$","span",null,{"className":"text-muted-foreground","children":"→"}],["$","span",null,{"children":"Developed reusable UI components and integrated them with backend APIs."}]]}],["$","li",null,{"className":"flex gap-2","data-testid":"text-experience-achievement-3","children":[["$","span",null,{"className":"text-muted-foreground","children":"→"}],["$","span",null,{"children":"Collaborated with designers and backend engineers to ship features on time."}]]}],["$","li",null,{"className":"flex gap-2","data-testid":"text-experience-achievement-4","children":[["$","span",null,{"className":"text-muted-foreground","children":"→"}],["$","span",null,{"children":"Mentored interns on dashboards and internal tools, helping them write clean code."}]]}]]}]]}]]}]}]]}]}]
c:["$","section",null,{"id":"projects","data-scroll-section":true,"className":"py-12 sm:py-24 px-6","children":["$","div",null,{"className":"max-w-5xl mx-auto","children":[["$","h2",null,{"className":"text-xl sm:text-2xl md:text-3xl mb-12 font-normal","data-testid":"text-projects-heading","children":"Selected Projects"}],["$","div",null,{"className":"space-y-8","children":[["$","div","Experience.com",{"className":"border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"card-project-0","children":[["$","div",null,{"className":"mb-2","children":[["$","a",null,{"href":"https://experience.com","target":"_blank","rel":"noopener noreferrer","className":"text-base sm:text-lg md:text-xl mb-1 underline decoration-dotted inline-block hover:text-primary transition-colors","data-testid":"text-project-title-0","children":"Experience.com"}],["$","p",null,{"className":"text-xs sm:text-sm text-muted-foreground mb-2","data-testid":"badge-project-type-0","children":"Client Project"}]]}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed mb-4","data-testid":"text-project-description-0","children":"Built a massive static site with over 70 pages packed with content and images. This required careful planning, structure, and optimization to keep everything organized and fast. Delivered a responsive UI and reusable components for smooth navigation and performance."}],["$","div",null,{"className":"flex flex-wrap gap-2 text-xs sm:text-sm text-muted-foreground","children":[["$","span","NextJS",{"data-testid":"badge-project-tech-NextJS","children":["[","NextJS","]"]}],["$","span","Tailwind",{"data-testid":"badge-project-tech-Tailwind","children":["[","Tailwind","]"]}],["$","span","GSAP",{"data-testid":"badge-project-tech-GSAP","children":["[","GSAP","]"]}],["$","span","NextUI",{"data-testid":"badge-project-tech-NextUI","children":["[","NextUI","]"]}]]}]]}],["$","div","Dipzin.com",{"className":"border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"card-project-1","children":[["$","div",null,{"className":"mb-2","children":[["$","a",null,{"href":"https://dipzin.com","target":"_blank","rel":"noopener noreferrer","className":"text-base sm:text-lg md:text-xl mb-1 underline decoration-dotted inline-block hover:text-primary transition-colors","data-testid":"text-project-title-1","children":"Dipzin.com"}],["$","p",null,{"className":"text-xs sm:text-sm text-muted-foreground mb-2","data-testid":"badge-project-type-1","children":"Company Project"}]]}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed mb-4","data-testid":"text-project-description-1","children":"Took an existing website and rebuilt it from scratch in 2–3 months. Designed a custom design system using Storybook, Radix UI, and Shadcn/ui for consistency and speed. Also built a fully functional dashboard in less than a month, integrated with Strapi CMS for data management."}],["$","div",null,{"className":"flex flex-wrap gap-2 text-xs sm:text-sm text-muted-foreground","children":[["$","span","NextJS",{"data-testid":"badge-project-tech-NextJS","children":["[","NextJS","]"]}],["$","span","TypeScript",{"data-testid":"badge-project-tech-TypeScript","children":["[","TypeScript","]"]}],["$","span","Storybook",{"data-testid":"badge-project-tech-Storybook","children":["[","Storybook","]"]}],["$","span","Shadcn",{"data-testid":"badge-project-tech-Shadcn","children":["[","Shadcn","]"]}],["$","span","Strapi",{"data-testid":"badge-project-tech-Strapi","children":["[","Strapi","]"]}],["$","span","AuthJS",{"data-testid":"badge-project-tech-AuthJS","children":["[","AuthJS","]"]}],["$","span","Zustand",{"data-testid":"badge-project-tech-Zustand","children":["[","Zustand","]"]}]]}]]}],["$","div","StudyHive.com",{"className":"border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"card-project-2","children":[["$","div",null,{"className":"mb-2","children":[["$","a",null,{"href":"https://studyhive.com","target":"_blank","rel":"noopener noreferrer","className":"text-base sm:text-lg md:text-xl mb-1 underline decoration-dotted inline-block hover:text-primary transition-colors","data-testid":"text-project-title-2","children":"StudyHive.com"}],"$L16"]}],"$L17","$L18"]}],"$L19"]}]]}]}]
1b:Tc93,import NextAuth from "next-auth";
import Credentials from "next-auth/providers/credentials";
import { fetchUserWithToken } from "./utils/auth/fetchUserWithToken";

// Define a custom user type to include token
declare module "next-auth" {
  interface User {
    token: string;
    avatar: {
      id: number;
      hash: string;
      ext: string;
      width: number;
      height: number;
    };
    username: string;
    bio: string;
    role: string;
    confirmed: boolean;
    is_paid: boolean;
    affiliate_code: string;
    stripe_id: string;
  }
}

export const {
  auth,
  signIn,
  signOut,
  handlers: { GET, POST },
} = NextAuth({
  providers: [
    Credentials({
      name: "credentials",
      credentials: {
        email: { label: "Email", type: "text" },
        otp: { label: "OTP", type: "text" },
      },
      async authorize(credentials) {
        // Verify the OTP
        const res = await fetch(`${process.env.NEXT_PUBLIC_API}/otps/verify`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            data: {
              email: credentials.email,
              otp: credentials.otp,
            },
          }),
        });

        if (!res.ok) {
          throw new Error("Invalid OTP");
        }

        const { token } = await res.json();
        // Fetch user data using the token
        const user = await fetchUserWithToken(token);

        if (res.ok && token) {
          // Return user object with token if authentication was successful
          return { ...user, token };
        }

        // If authentication failed, return null
        return null;
      },
    }),
  ],
  callbacks: {
    async jwt({ token, trigger, user }) {
      if (trigger === "update") {
        const updatedUser = await fetchUserWithToken(
          token.sessionToken as string,
        );
        return {
          ...token,
          ...updatedUser,
        };
      }

      return {
        ...token,
        ...(user && {
          id: user.id,
          avatar: user.avatar,
          username: user.username,
          bio: user.bio,
          sessionToken: user.token,
          confirmed: user.confirmed,
          is_paid: user.is_paid,
          affiliate_code: user.affiliate_code,
          stripe_id: user.stripe_id,
        }),
      };
    },
    async session({ session, token }) {
      // Return a new session object with the properties merged
      return {
        ...session,
        user: {
          ...session.user,
          token: token.sessionToken as string,
          avatar: token.avatar as {
            id: number;
            hash: string;
            ext: string;
            width: number;
            height: number;
          },
          username: token.username as string,
          bio: token.bio as string,
          confirmed: token.confirmed as boolean,
          id: token.id as string,
          is_paid: token.is_paid as boolean,
          affiliate_code: token.affiliate_code as string,
          stripe_id: token.stripe_id as string,
        },
      };
    },
  },
  secret: process.env.NEXTAUTH_SECRET,
  redirectProxyUrl: process.env.BASE_URL,
  trustHost: true,
});
1c:T13e3,"use client";

import React, { useState, useRef, useEffect } from 'react';
import { AnimatePresence, motion } from 'framer-motion';
import { Input } from '@/components/Shared/input';
import { Switcher } from '@/components/Shared/switcher';
import { NavigatorMenu } from './navigator-menu';
import { Suggestions } from '@/app/(explorer)/_components/navigator/suggestions';
import { useQuery } from '@/app/(explorer)/_hooks/useQuery';
import { useKeyword } from '@/app/(explorer)/_hooks/useKeyword';
import { getPatternHandleForAPI } from '@/app/(explorer)/_utils/queryUtils';
import { AppPill } from '../app-pill';
import useAppPill from '../app-pill/_hooks/useAppPill';

const patterns = [
  { label: 'Apps', value: 'apps' },
  { label: 'Screens', value: 'screens' },
  { label: 'Components', value: 'components' },
  { label: 'Marketing', value: 'marketing' },
  { label: 'Flows', value: 'flows' },
];

const platforms = [
  { label: 'IOS', value: 'ios' },
  { label: 'Android', value: 'android' },
  { label: 'Web', value: 'web' },
];

const DesktopNavigatorView: React.FC = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isHovered, setIsHovered] = useState(false);
  const navigatorRef = useRef<HTMLInputElement | null>(null);

  const { keyword, setKeyword } = useKeyword();
  const {
    query, setFilters, setApps, setPattern, suggestions, setPlatform
  } = useQuery();
  const { filters, platform, pattern } = query || {};

  const {
    allApps, hiddenAppSlugs, handleToggleVisibility, handleRemoveApp
  } = useAppPill({
    query,
    setApps,
  });

  const handleClickOutside = (event: MouseEvent) => {
    if (navigatorRef.current && !navigatorRef.current.contains(event.target as Node)) {
      setIsMenuOpen(false);
    }
  };

  useEffect(() => {
    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const switcherState = isMenuOpen || (filters && filters.length > 0) ? 'collapsed' : 'open';

  const correctedPattern = getPatternHandleForAPI(pattern);
  const mappedSuggestions = suggestions?.map((name: string) => ({
    name,
    pattern: correctedPattern,
  })) || [];

  console.log('query: ', JSON.stringify(query, null, 2));

  return (
    <motion.div
      ref={navigatorRef}
      key="desktop-navigator"
      className="size-full max-w-[70vw] bg-gradient-to-b from-slate-900/85 to-slate-900/60 rounded-[1.625rem] p-2.5 hidden lg:flex flex-col gap-4"
      initial={{ height: 'auto' }}
      animate={{ height: isMenuOpen ? 'auto' : 'auto' }}
      transition={{ duration: 0.3, ease: 'easeInOut' }}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div className="w-full h-fit flex items-center gap-4">
        <Switcher
          value={pattern}
          onChange={setPattern}
          data={patterns}
          state={switcherState}
        />
        <Input
          value={keyword}
          onChange={(e) => setKeyword(e.target.value)}
          onFocus={() => setIsMenuOpen(true)}
          type="search"
          placeholder={filters?.length > 0 ? 'Search' : 'Try Search'}
          autoComplete="off"
          selectedFilters={filters}
          setSelectedFilters={(updateFn) => setFilters(updateFn)}
        />
        <Switcher
          value={platform}
          onChange={setPlatform}
          data={platforms}
          state="open"
        />
      </div>
      {isMenuOpen && (
        <NavigatorMenu
          isMenuOpen={isMenuOpen}
          handleUpdate={(updateFn, target) => {
            if (target === 'filters') {
              setFilters(updateFn(query.filters));
            } else if (target === 'apps') {
              setApps(updateFn(query.apps));
            }
          }}
        />
      )}

      {!isMenuOpen && allApps.length > 0 && (
      <div className="size-full flex gap-4">
        {allApps.map((app, index) => (
          app && app.slug ? (
            <AppPill
              key={app.id || index}
              data={app}
              isFull={allApps.length === 1}
              isHidden={hiddenAppSlugs.includes(app.slug)}
              onToggleVisibility={() => handleToggleVisibility(app.slug)}
              onRemove={() => handleRemoveApp(app.slug)}
            />
          ) : null
        ))}
      </div>
      )}

      <AnimatePresence>
        {!isMenuOpen && (isHovered || !allApps.length) && (
          <motion.div
            className={isMenuOpen ? 'hidden' : 'flex'}
            initial={{ opacity: 0, height: 0, y: -10 }}
            animate={{ opacity: 1, height: 'auto', y: 0 }}
            exit={{ opacity: 0, height: 0, y: -10 }}
            transition={{ duration: 0.3 }}
          >
            <Suggestions
              suggestions={mappedSuggestions}
              selectedFilters={query.filters}
              setSelectedFilters={setFilters}
            />
          </motion.div>
        )}
      </AnimatePresence>
    </motion.div>
  );
};

export default DesktopNavigatorView;
1d:Tc91,import type { Metadata } from "next";
import { get } from "@/utils/api";
import QueryString from "qs";

type PlatformType = "ios" | "android" | "web";
type PatternType = "apps" | "components" | "marketing" | "flows" | "screens";

async function fetchRandomKeywords(
  endpoint: string,
  fieldName: string,
  filter: any = {},
): Promise<string[]> {
  const query = QueryString.stringify({
    pagination: { pageSize: 10, offset: Math.floor(Math.random() * Number.MAX_SAFE_INTEGER) },
    fields: [fieldName],
    filters: filter,
  });
  const response = await get(`/${endpoint}?${query}`);
  return response.data.map((item: any) => item.attributes[fieldName]);
}

export async function createMetadata(
  params: [PlatformType, PatternType, string?],
  searchParams: { [key: string]: string | string[] },
): Promise<Metadata> {
  const [platform, pattern] = params;
  const title = `Dipzin — Discover Top ${platform} ${pattern} App Design Inspirations`;
  const description = `Dive into a selection of ${platform} ${pattern} app design works that blend functionality with aesthetic excellence. Your destination for ${platform} app design inspiration.`;

  const keywords: string[] = [];

  // Existing keyword extraction
  if (pattern === "apps" && searchParams.app) {
    keywords.push(decodeURIComponent(searchParams.app as string));
  }
  if (searchParams.categories) {
    keywords.push(decodeURIComponent(searchParams.categories as string));
  }
  if (searchParams.flows) {
    keywords.push(decodeURIComponent(searchParams.flows as string));
  }
  if (searchParams.screens) {
    keywords.push(decodeURIComponent(searchParams.screens as string));
  }
  if (pattern === "components") {
    if (searchParams.components) {
      const components = Array.isArray(searchParams.components)
        ? searchParams.components.map(decodeURIComponent)
        : [decodeURIComponent(searchParams.components)];
      keywords.push(...components);
    } else if (params[2]) {
      keywords.push(decodeURIComponent(params[2]));
    }
  }
  if (pattern === "marketing") {
    if (searchParams.marketing) {
      const marketing = Array.isArray(searchParams.marketing)
        ? searchParams.marketing.map(decodeURIComponent)
        : [decodeURIComponent(searchParams.marketing)];
      keywords.push(...marketing);
    } else if (params[2]) {
      keywords.push(decodeURIComponent(params[2]));
    }
  }

  // Fetch 10 random items based on the pattern
  let randomKeywords: string[] = [];
  switch (pattern) {
    case "apps":
      randomKeywords = await fetchRandomKeywords("categories", "name");
      break;
    case "screens":
      randomKeywords = await fetchRandomKeywords("tags", "name");
      break;
    case "components":
      randomKeywords = await fetchRandomKeywords("components", "name");
      break;
    case "marketing":
      randomKeywords = await fetchRandomKeywords(
        "tags",
        "name",
        { types: { name: "marketing" } }
      );
      break;
    case "flows":
      randomKeywords = await fetchRandomKeywords("flow-actions", "name");
      break;
    default:
      break;
  }

  keywords.push(...randomKeywords);

  return {
    title,
    description,
    keywords,
  };
}
1e:T10a8,"use client";

import { useState, useCallback } from "react";
import { useForm } from "react-hook-form";
import { debounce } from "lodash";
import { zodResolver } from "@hookform/resolvers/zod";
import { appSchema } from "../_schemas/appSchema";
import { TransformedApp, AppCategory } from "../types";
import { searchAppCategories } from "../_actions/searchAppCategories";
import { useToast } from "@/hooks/use-toast";
import { searchKeywords } from "../_actions/searchKeywords";
import { reformData } from "../_utils/reformData";
import { uploadFileToStrapi } from "@/utils/uploadFileToStrapi";
import { updateApp } from "../_actions/updateApp";

const useAppData = (initialAppData: TransformedApp) => {
  const methods = useForm({
    resolver: zodResolver(appSchema),
    defaultValues: initialAppData,
    mode: "onChange",
  });

  const { formState, getValues } = methods;
  const { dirtyFields, isDirty } = formState;

  const [searchTerm, setSearchTerm] = useState<string>("");
  const [categories, setCategories] = useState<AppCategory[] | null>(null);
  const [keywords, setKeywords] = useState<TransformedApp["keywords"] | null>(
    null
  );

  const { toast } = useToast();

  const submitApp = async (data: any) => {
    if (!isDirty) {
      toast({
        title: "Error",
        description: "No changes to submit.",
        variant: "destructive",
      });
      return;
    }

    const allValues = getValues();
    const dirtyData = Object.keys(dirtyFields).reduce((acc, key) => {
      acc[key as keyof TransformedApp] = allValues[key as keyof TransformedApp];
      return acc;
    }, {} as Partial<TransformedApp>);

    // Always include the app ID in the dirty data
    dirtyData.id = initialAppData.id;

    try {
      const appData = reformData(dirtyData);
      console.log("appData: ", appData);

      const { icon, ...appDataWithoutIcon } = appData;
      const response = await updateApp(
        JSON.parse(JSON.stringify(appDataWithoutIcon))
      );

      if (response.data) {
        let updatedAppData = { ...appData, id: response.data.id };

        if (appData.icon) {
          const newLogo = await uploadFileToStrapi(
            appData.icon,
            "api::app.app",
            String(response.data.id),
            "icon"
          );
          updatedAppData = { ...updatedAppData, icon: newLogo };
        }

        toast({
          title: "Success",
          description: "App data submitted successfully.",
        });
      } else {
        console.error("Failed to submit app data.");
        toast({
          title: "Error",
          description: "Failed to submit app data.",
          variant: "destructive",
        });
      }
    } catch (error) {
      if (error instanceof Error) {
        console.error("Error submitting app data:", error);
        toast({
          title: "Failed to submit app data.",
          description: error.message,
          variant: "destructive",
        });
      } else {
        console.error("Unknown error submitting app data:", error);
        toast({
          title: "Failed to submit app data.",
          description: "An unknown error occurred.",
          variant: "destructive",
        });
      }
    }
  };

  const fetchCategories = useCallback(
    debounce(async (query: string) => {
      try {
        const data = await searchAppCategories(query);
        setCategories(data.data);
      } catch (error) {
        console.error("Error fetching categories:", error);
      }
    }, 300),
    []
  );

  const fetchKeywords = useCallback(
    debounce(async (query: string) => {
      try {
        const data = await searchKeywords(query);
        setKeywords(data.data);
      } catch (error) {
        console.error("Error fetching keywords:", error);
      }
    }, 300),
    []
  );

  const handleCategoriesSearchChange = (query: string) => {
    setSearchTerm(query);
    fetchCategories(query);
  };

  const handleKeywordsSearchChange = (query: string) => {
    setSearchTerm(query);
    fetchKeywords(query);
  };

  return {
    appData: initialAppData,
    methods,
    searchTerm,
    handleCategoriesSearchChange,
    categories,
    handleKeywordsSearchChange,
    keywords,
    submitApp,
  };
};

export default useAppData;
1f:Ta06,import { useCallback } from "react";
import { fetchDataAction } from "../_actions/fetchData";
import { useQuery } from "./useQuery";

export function useFetchData() {
  const {
    data, setData, pagination, setPagination, setSuggestions
  } = useQuery();

  const fetchData = useCallback(
    async (queryOverride, isPagination = false) => {
      const correctedFilters = (queryOverride.filters || []).map((filter) => {
        if (filter.pattern && filter.pattern.toLowerCase() === "flows") {
          return { ...filter, pattern: "flowActions" };
        }
        return filter;
      });

      const dataQuery = {
        apps: (queryOverride.apps || []).map((app) => (typeof app === "object" && "slug" in app
          ? { slug: app.slug }
          : { slug: app }),),
        pattern: queryOverride.pattern,
        platform: queryOverride.platform,
        change: queryOverride.change,
        filters: correctedFilters,
        offset: queryOverride.offset, // Use pagination offset
        limit:
          queryOverride.pattern
          && queryOverride.pattern.toLowerCase() === "marketing"
            ? pagination.limit * 2.5
            : pagination.limit, // Adjust pagination limit for marketing pattern to fix the issue with the pagination; the data returns 8 items while the limit is 20 so multiply by 2.5 to make it 20 // this only happens for marketing pattern
      };
      const response = await fetchDataAction(dataQuery);
      if (response.status === 500) {
        throw new Error("Server error");
      }

      if (response.status === 404) {
        throw new Error("No data found");
      }
      // Update the data in store
      if (isPagination) {
        setData([...data, ...response.data]);
      } else {
        setData(response.data);
      }

      // Update the pagination separately
      setPagination({
        offset: response.pagination.pageSize * (response.pagination.page - 1),
        limit: response.pagination.pageSize,
        totalPages: response.pagination.totalPages,
        totalRecords: response.pagination.totalRecords,
      });

      // Update the suggestions
      setSuggestions(response.suggestions);

      const updatedQuery = {
        ...queryOverride,
        ...response.query,
        offset: response.pagination.pageSize * (response.pagination.page - 1),
        limit: response.pagination.pageSize,
        initialized: false,
        changed: false,
      };

      return updatedQuery;
    },
    [pagination, setData, setPagination, setSuggestions],
  );

  return { fetchData };
}
20:Taab,"use client";

import { useForm, type SubmitHandler } from \"react-hook-form\";
import { getInterests } from \"../_actions/getInterests\";
import { useRouter } from \"next/navigation\";
import { useEffect, useState } from \"react\";
import positions from \"../_static/positions.json\";
import { updateUser } from \"@/actions/updateUser\";
import { useSession } from \"next-auth/react\";
import { onboardingStore } from \"../onboardingStore\";
import { toast } from \"@/hooks/use-toast\";

interface PersonalizeFormInputs {
  positions: number[];
  interests: number[];
}

export const usePersonalize = () => {
  const { formData, setFormData, resetForm } = onboardingStore();
  const router = useRouter();
  const { data: session, update } = useSession();
  const user = session?.user;

  const {
    handleSubmit,
    control,
    formState: { errors },
  } = useForm<PersonalizeFormInputs>({
    defaultValues: {
      positions: formData.positions || [],
      interests: formData.interests || [],
    },
  });

  const [interests, setInterests] = useState<any[]>([]);
  const [error, setError] = useState<string | null>(null);
  const [submissionError, setSubmissionError] = useState<string | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const interestsData = await getInterests();
        setInterests(interestsData);
      } catch (err: any) {
        setError(\"Failed to fetch interests\");
      }
    };
    fetchData();
  }, []);

  const onSubmit: SubmitHandler<PersonalizeFormInputs> = async (data) => {
    setSubmissionError(null);

    if (data.positions.length === 0) {
      setError(\"Please select at least one position.\");
      return;
    }
    if (data.interests.length === 0) {
      setError(\"Please select at least one interest.\");
      return;
    }

    setFormData({
      positions: data.positions,
      interests: data.interests,
    });

    try {
      const updatedData = {
        ...formData,
        positions: data.positions,
        interests: data.interests,
      };
      if (user?.token && user?.id) {
        await updateUser(updatedData, user.token, user.id);
      } else {
        setSubmissionError(\"User token or ID is missing\");
        return;
      }
      update({});
      resetForm();
      toast({
        title: \"Success\",
        description: \"User information updated\",
        variant: \"success\",
      });
      router.push(\"/profile/enjoy\");
    } catch (err: any) {
      setSubmissionError(err.message || \"Failed to update user information\");
    }
  };

  return {
    control,
    interests,
    positions,
    handleSubmit: handleSubmit(onSubmit),
    errors,
    error,
    submissionError,
  };
};
"21:T445,import { ApiResponse, TransformedResponse } from "../types";

const translatePlatform = (platform: string): number => {
  switch (platform) {
    case "ios":
      return 2;
    case "android":
      return 1;
    case "web":
      return 3;
    default:
      return 0;
  }
};

export const transformData = (
  apiResponse: ApiResponse
): TransformedResponse => {
  return {
    data: apiResponse.data.map((item) => ({
      id: item.id,
      name: item.attributes.name,
      slug: item.attributes.slug,
      store_link: item.attributes.store_link,
      status: item.attributes.is_published ? "published" : "drafted",
      last_version: item.attributes.updatedAt,
      icon: {
        id: item.attributes.icon.data?.id || 0,
        url: item.attributes.icon.data?.attributes.url || "",
      },
      platform: {
        id: translatePlatform(item.attributes.platform),
        name: item.attributes.platform || "",
      },
      screens: item.attributes.screens?.data
        ? item.attributes.screens.data.length
        : 0,
    })),
    meta: apiResponse.meta.pagination,
  };
};
22:T1eef,"use client";

import React, { useState } from "react";
import { useFormContext, Controller } from "react-hook-form";
import { Card, CardContent, CardHeader } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import { Label } from "@/components/ui/label";
import { ToggleGroup, ToggleGroupItem } from "@/components/ui/toggle-group";
import { Input } from "@/components/ui/input";
import {
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
} from "@/components/ui/command";
import { useAppContext } from "../_providers/app-provider";
import { AppCategory } from "../types";

const Field: React.FC<{ label: string; children: React.ReactNode }> = ({
  label,
  children,
}) => (
  <div className="flex flex-col gap-1">
    <Label className="text-sm font-medium ">{label}</Label>
    {children}
  </div>
);

const AppDetailsForm: React.FC = () => {
  const { control, setValue, watch, formState } = useFormContext();
  const { errors } = formState;
  const { searchTerm, handleSearchChange, appCategories } = useAppContext();

  const [open, setOpen] = useState(false);

  const selectedCategoryId = watch("categories")?.[0];
  const selectedCategoryName =
    appCategories?.find(
      (category: AppCategory) => category.id === selectedCategoryId
    )?.attributes.name || "";

  return (
    <Card className="w-[670px] h-full bg-background">
      <CardContent className="flex flex-col items-center justify-center p-6 text-sm space-y-6">
        <CardHeader className="w-full flex flex-row items-center gap-4 p-0">
          <Label className="font-semibold text-[#CECFD2] text-sm">
            App Platform
          </Label>
          <Controller
            name="platform"
            control={control}
            defaultValue={"ios"}
            render={({ field }) => (
              <ToggleGroup
                className="p-[2px] border border-[#333741] rounded-lg"
                type="single"
                value={field.value}
                onValueChange={(value) =>
                  setValue("platform", value, { shouldDirty: true })
                }
              >
                <ToggleGroupItem size={"sm"} value={"ios"}>
                  IOS
                </ToggleGroupItem>
                <ToggleGroupItem size={"sm"} value={"android"}>
                  Android
                </ToggleGroupItem>
                <ToggleGroupItem size={"sm"} value={"web"}>
                  Web
                </ToggleGroupItem>
              </ToggleGroup>
            )}
          />
        </CardHeader>
        <Separator />

        <form id="app-details-form" className="grid grid-cols-2 gap-4 w-full">
          <Controller
            name="name"
            control={control}
            render={({ field }) => (
              <Field label="App Name">
                <Input
                  className="rounded-lg border-[#333741]"
                  {...field}
                  placeholder="App Name"
                />
                {errors.name && (
                  <span className="text-xs text-red-500">
                    {String(errors.name.message)}
                  </span>
                )}
              </Field>
            )}
          />
          <Controller
            name="slug"
            control={control}
            render={({ field }) => (
              <Field label="App Slug">
                <Input
                  className="rounded-lg border-[#333741]"
                  {...field}
                  placeholder="App Slug"
                />
                {errors.slug && (
                  <span className="text-xs text-red-500">
                    {String(errors.slug.message)}
                  </span>
                )}
              </Field>
            )}
          />
          <Controller
            name="tag_line"
            control={control}
            render={({ field }) => (
              <Field label="App Tagline">
                <Input
                  className="rounded-lg border-[#333741]"
                  {...field}
                  placeholder="App Tagline"
                />
                {errors.tag_line && (
                  <span className="text-xs text-red-500">
                    {String(errors.tag_line.message)}
                  </span>
                )}
              </Field>
            )}
          />
          <Controller
            name="copy_right"
            control={control}
            render={({ field }) => (
              <Field label="Copyrights">
                <Input
                  className="rounded-lg border-[#333741]"
                  {...field}
                  placeholder="Copyrights"
                />
                {errors.copy_right && (
                  <span className="text-xs text-red-500">
                    {String(errors.copy_right.message)}
                  </span>
                )}
              </Field>
            )}
          />
          <div className="col-span-2">
            <Controller
              name="categories"
              control={control}
              render={({ field }) => (
                <Field label="App Category">
                  <button type="button" onClick={() => setOpen(true)}>
                    <Input
                      className="rounded-lg border-[#333741] w-full pointer-events-none"
                      value={selectedCategoryName}
                      placeholder="Select Category"
                      readOnly
                    />
                  </button>
                  {errors.categories && (
                    <span className="text-xs text-red-500">
                      {String(errors.categories.message)}
                    </span>
                  )}
                  <CommandDialog open={open} onOpenChange={setOpen}>
                    <CommandInput
                      placeholder="Type to search categories..."
                      value={searchTerm}
                      onValueChange={handleSearchChange}
                    />
                    <CommandList>
                      {appCategories?.length ? (
                        <CommandGroup heading="Categories">
                          {appCategories.map((category) => (
                            <CommandItem
                              key={category.id}
                              onSelect={() => {
                                setValue("categories", [category.id], {
                                  shouldDirty: true,
                                });
                                setOpen(false);
                              }}
                            >
                              {`${category.attributes.name} - ${category.id}`}
                            </CommandItem>
                          ))}
                        </CommandGroup>
                      ) : (
                        <CommandEmpty>No categories found</CommandEmpty>
                      )}
                    </CommandList>
                  </CommandDialog>
                </Field>
              )}
            />
          </div>
          <div className="col-span-2">
            <Controller
              name="store_link"
              control={control}
              render={({ field }) => (
                <Field label="Store/Website Link">
                  <Input
                    className="rounded-lg border-[#333741]"
                    {...field}
                    placeholder="Store/Website Link"
                  />
                  {errors.store_link && (
                    <span className="text-xs text-red-500">
                      {String(errors.store_link.message)}
                    </span>
                  )}
                </Field>
              )}
            />
          </div>
        </form>
      </CardContent>
    </Card>
  );
};

export default AppDetailsForm;
23:T49f,"use server";

import QueryString from "qs";
import { ApiResponse, TransformedResponse } from "../types";
import { transformData } from "../_utils/transformData";

export const searchApps = async (
  searchQuery: string
): Promise<TransformedResponse> => {
  const query = QueryString.stringify({
    fields: ["name", "slug", "platform"],
    filters: {
      ...(searchQuery !== "" && {
        name: { $containsi: searchQuery },
      }),
    },
    populate: {
      icon: {
        fields: ["url"],
      },
      pagination: {
        page: 1,
        pageSize: 5,
      },
    },
  });

  try {
    const response = await fetch(
      `${process.env.NEXT_PUBLIC_API_URL}/apps?${query}`,
      {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
        },
        cache: "no-store",
      }
    );

    if (!response.ok) {
      throw new Error("Failed to fetch apps");
    }

    const apiResponse: ApiResponse = await response.json();
    console.log("response: ", JSON.stringify(apiResponse, null, 2));
    return transformData(apiResponse);
  } catch (error) {
    console.error("Error fetching apps:", error);
    throw error;
  }
};
24:T55d,"use server";

import QueryString from "qs";
import { transformData } from "../_utils/transformData";
import { ApiResponse, TransformedResponse } from "../types";

export const getApps = async (
  page = 1,
  status: string | null = null,
  platform: string | null = null
): Promise<TransformedResponse> => {
  const query = QueryString.stringify({
    fields: [
      "name",
      "slug",
      "platform",
      "store_link",
      "is_published",
      "updatedAt",
    ],
    filters: {
      ...(status !== null && {
        is_published: status === "published" ? true : false,
      }),
      ...(platform !== null && {
        platform,
      }),
    },
    populate: {
      icon: {
        fields: ["url"],
      },
      screens: {
        fields: ["id"],
      },
    },
    pagination: {
      page: page,
      pageSize: 7,
    },
  });

  try {
    const response = await fetch(
      `${process.env.NEXT_PUBLIC_API_URL}/apps?${query}`,
      {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
        },
        cache: "no-store",
      }
    );

    if (!response.ok) {
      throw new Error("Failed to fetch apps");
    }

    const apiResponse: ApiResponse = await response.json();
    return transformData(apiResponse);
  } catch (error) {
    console.error("Error fetching apps:", error);
    throw error;
  }
};
25:T1955,"use client"

import { useState, useCallback, useEffect } from 'react';
import { useSearchParams, useParams } from 'next/navigation';
import debounce from 'lodash/debounce';
import { getScreens } from '../_actions/getScreens';
import { deleteScreens } from '../_actions/deleteScreens';
import { TransformedScreenData } from '../types';
import { toast } from '@/hooks/use-toast';
import { updateScreen } from '../_actions/updateScreen';
import { createScreen } from '../_actions/createScreen';
import { reArrangeScreens } from '../_actions/reArrangeScreens';
import { uploadFileToStrapi } from '@/utils/uploadFileToStrapi';
import { arrayMove } from '@dnd-kit/sortable';

export const useScreens = () => {
  const { id } = useParams();
  const searchParams = new URLSearchParams(useSearchParams());
  const status = searchParams.get('status') as boolean | null;

  const [screens, setScreens] = useState<TransformedScreenData[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [hasMore, setHasMore] = useState(true);
  const [offset, setOffset] = useState(1);
  const [selectedScreens, setSelectedScreens] = useState<number[]>([]);

  const getData = useCallback(async (offset: number) => {
    setLoading(true);
    setError(null);

    try {
      const { error, screens: newScreens, hasMore } = await getScreens(Number(id), status, offset);

      if (error) {
        setError(error);
      } else {
        setScreens(prevScreens => offset === 1 ? newScreens : [...prevScreens, ...newScreens]);
        setHasMore(hasMore);
        setOffset(offset);
      }
    } catch (err) {
      setError('Failed to fetch screens');
    } finally {
      setLoading(false);
    }
  }, [id, status]);

  useEffect(() => {
    setScreens([]);
    setOffset(1);
    getData(1);
  }, [status, getData]);

  const loadMoreScreens = useCallback(debounce(async () => {
    if (!hasMore || loading) return;
    const newOffset = offset + 1;
    searchParams.set('offset', newOffset.toString());
    window.history.replaceState({}, '', `?${searchParams.toString()}`);
    await getData(newOffset);
  }, 300), [hasMore, loading, offset, searchParams, getData]);

  const handleDeleteSelected = useCallback(async () => {
    try {
      const response = await deleteScreens(selectedScreens.map(id => id));
      if (response.message === 'All screens deleted successfully') {
        setScreens(prevScreens => prevScreens.filter(screen => !selectedScreens.includes(screen.id)));
        setSelectedScreens([]);
        toast({ title: "Success", description: "Selected screens have been deleted." });
      }
    } catch (error) {
      console.error('Error deleting screens:', error);
      toast({ title: "Error", description: "Failed to delete selected screens. Please try again.", variant: "destructive" });
    }
  }, [selectedScreens, setScreens, toast]);

  const handleScreensUpload = async (files: File[]) => {
    setLoading(true);
    try {
      const newScreens: TransformedScreenData[] = [];
      for (const file of files) {
        const screenEntity = await createScreen(Number(id)); // Create the screen entity first
        const uploadedFile = await uploadFileToStrapi(file, 'api::screen.screen', screenEntity.data.id, 'screen'); // Upload file to Strapi
        if (uploadedFile && uploadedFile[0]) {
          newScreens.push({ ...screenEntity, screen: uploadedFile[0] });
        }
      }
      if (newScreens.length > 0) {
        setScreens(prevScreens => [...prevScreens, ...newScreens]);
        toast({ title: "Success", description: "Screens uploaded successfully." });
      }
    } catch (error) {
      console.error("Error uploading files:", error);
      toast({ title: "Error", description: "Failed to upload screens.", variant: "destructive" });
    } finally {
      setLoading(false);
    }
  };

  const togglePublishedState = async (screenId: number, currentState: boolean) => {
    setLoading(true);
    try {
      await updateScreen({
        id: screenId,
        is_published: !currentState,
      });

      setScreens((prevScreens) =>
        prevScreens.map((screen) =>
          screen.id === screenId ? { ...screen, status: !currentState } : screen
        )
      );

      toast({ title: "Success", description: `Screen ${!currentState ? "published" : "unpublished"}.` });
    } catch (error) {
      console.error("Error updating screen:", error);
      toast({ title: "Error", description: "Failed to update screen.", variant: "destructive" });
    } finally {
      setLoading(false);
    }
  };

  const handleDeleteScreen = async (screenId: number) => {
    try {
      const res = await deleteScreens([screenId]);
      if (res.message === 'All screens deleted successfully') {
        setScreens(prevScreens => prevScreens.filter(screen => screen.id !== screenId));
        toast({
          title: 'Success',
          description: 'Screen deleted successfully',
        });
      } else {
        toast({
          title: 'Error',
          description: 'Failed to delete screen',
        });
      }
    } catch (error) {
      console.error('Error deleting screen:', error);
      toast({
        title: 'Error',
        description: 'An error occurred while deleting the screen',
      });
    }
  };

  // Logic for reordering screens
  const handleReorderScreens = useCallback(
    async (activeId: string, overId: string) => {
      const oldIndex = screens.findIndex(screen => screen.id === Number(activeId));
      const newIndex = screens.findIndex(screen => screen.id === Number(overId));

      if (oldIndex !== -1 && newIndex !== -1) {
        try {
          setScreens((prevScreens) => arrayMove(prevScreens, oldIndex, newIndex));
          await reArrangeScreens(activeId, newIndex + 1); // Call the API to update the order
          toast({ title: 'Success', description: 'Screens reordered successfully' });
        } catch (error) {
          console.error('Error reordering screens:', error);
          toast({ title: 'Error', description: 'Failed to reorder screens', variant: 'destructive' });
        }
      }
    },
    [screens, setScreens, toast]
  );

  return {
    screens,
    setScreens,
    loading,
    error,
    hasMore,
    getData,
    loadMoreScreens,
    selectedScreens,
    setSelectedScreens,
    handleDeleteSelected,
    handleScreensUpload,
    togglePublishedState,
    handleDeleteScreen,
    handleReorderScreens,
  };
};
26:T148a,import { useState, useCallback, useEffect } from 'react';
import { useForm } from 'react-hook-form';
import { debounce } from 'lodash';
import { useRouter } from 'next/navigation';
import { useToast } from '@/hooks/use-toast';
import { TransformedScreenData } from '../../../../types';
import { searchComponents } from '../_actions/searchComponents';
import { searchTags } from '../_actions/searchTags';
import { deleteScreen } from '../_actions/deleteScreen';
import { updateScreen } from '../_actions/updateScreen';
import { uploadFileToStrapi } from '@/utils/uploadFileToStrapi';

const useScreen = (initialScreenData: TransformedScreenData) => {
  const [searchTerm, setSearchTerm] = useState<string>('');
  const [tagsResults, setTagsResults] = useState<any[] | null>(null);
  const [componentsResults, setComponentsResults] = useState<any[] | null>(null);
  const [dirtyScreenData, setDirtyScreenData] = useState<Partial<TransformedScreenData>>({});
  const [showReplaceScreen, setShowReplaceScreen] = useState(false);
  const [selectedImage, setSelectedImage] = useState<string | null>(null);
  const router = useRouter();
  const { toast } = useToast();

  const formMethods = useForm<TransformedScreenData>({
    defaultValues: initialScreenData,
    mode: 'onChange',
  });

  const { watch, setValue } = formMethods;

  useEffect(() => {
    const subscription = watch((value, { name, type }) => {
      if (name) {
        const changedValue = value[name as keyof TransformedScreenData];
        const initialValue = initialScreenData[name as keyof TransformedScreenData];

        if (JSON.stringify(changedValue) !== JSON.stringify(initialValue)) {
          setDirtyScreenData(prev => ({
            ...prev,
            [name]: changedValue
          }));
        } else {
          setDirtyScreenData(prev => {
            const { [name]: _, ...rest } = prev;
            return rest;
          });
        }
      }
    });

    return () => subscription.unsubscribe();
  }, [watch, initialScreenData]);

  // Debounced update function
  const debouncedUpdate = useCallback(
    debounce(async (data: Partial<TransformedScreenData>) => {
      try {
        let updatedData = { ...data };
        if (data.screen instanceof File) {
          const uploadedFile = await uploadFileToStrapi(data.screen, 'api::screen.screen', initialScreenData.id.toString(), 'screen');
          if (uploadedFile && uploadedFile[0]) {
            updatedData.screen = uploadedFile[0];
          }
        }

        const updatedScreen = await updateScreen({
          id: initialScreenData.id,
          ...updatedData
        });
        toast({
          title: 'Success',
          description: 'Screen updated successfully',
        });
        setDirtyScreenData({});
        setShowReplaceScreen(false);
        setSelectedImage(null); // Clear the selected image after successful update
      } catch (error) {
        console.error('Error updating screen:', error);
        toast({
          title: 'Error',
          description: 'Failed to update screen',
        });
      }
    }, 500),
    [initialScreenData.id, toast]
  );

  // Effect to trigger update when dirtyScreenData changes
  useEffect(() => {
    if (Object.keys(dirtyScreenData).length > 0) {
      debouncedUpdate(dirtyScreenData);
    }
  }, [dirtyScreenData, debouncedUpdate]);

  const handleFileSelection = (file: File) => {
    const imageUrl = URL.createObjectURL(file);
    setSelectedImage(imageUrl);
    setValue('screen', file);
  };

  const fetchTags = useCallback(
    debounce(async (query: string) => {
      try {
        const data = await searchTags(query);
        setTagsResults(data.data);
      } catch (error) {
        console.error('Error fetching tags:', error);
      }
    }, 300),
    []
  );

  const fetchComponents = useCallback(
    debounce(async (query: string) => {
      try {
        const data = await searchComponents(query);
        setComponentsResults(data.data);
      } catch (error) {
        console.error('Error fetching components:', error);
      }
    }, 300),
    []
  );

  const handleTagsSearchChange = (query: string) => {
    setSearchTerm(query);
    fetchTags(query);
  };

  const handleComponentsSearchChange = (query: string) => {
    setSearchTerm(query);
    fetchComponents(query);
  };

  const handleDeleteScreen = async (screenId: number) => {
    try {
      const res = await deleteScreen(screenId);
      if (res) {
        router.back();
        toast({
          title: 'Success',
          description: 'Screen deleted successfully',
        });
      } else {
        toast({
          title: 'Error',
          description: 'Failed to delete screen',
        });
      }
    } catch (error) {
      console.error('Error deleting screen:', error);
      toast({
        title: 'Error',
        description: 'An error occurred while deleting the screen',
      });
    }
  };

  return {
    screen: initialScreenData,
    formMethods,
    searchTerm,
    handleTagsSearchChange,
    handleComponentsSearchChange,
    tagsResults,
    componentsResults,
    handleDeleteScreen,
    dirtyScreenData,
    showReplaceScreen,
    setShowReplaceScreen,
    handleFileSelection
  };
};

export default useScreen;
27:Tdc0,"use client"

import { BottomLeftContent, BottomRightContent, Controls, TopLeftContent, TopRightContent } from "@/components/shared";
import { Button } from "@/components/ui/button";
import { Label } from "@/components/ui/label";
import { ToggleGroup, ToggleGroupItem } from "@/components/ui/toggle-group";
import { SquareArrowOutUpRight, Trash2 } from "lucide-react";
import { useSearchParams, useRouter } from 'next/navigation';
import { useScreensContext } from "../_providers/screens-provider";

const ScreensActions = () => {
  const router = useRouter();
  const searchParams = useSearchParams();
  const status = searchParams.get('status') as "true" | "false" | null;

  const { selectedScreens, handleDeleteSelected, handleScreensUpload } = useScreensContext();

  const handleScreensFilterChange = (newStatus: "true" | "false" | null) => {
    const params = new URLSearchParams(searchParams);
    if (newStatus === null) {
      params.delete('status');
    } else {
      params.set('status', newStatus);
    }
    router.push(`?${params.toString()}`, { scroll: false });
  };

  const handleFileInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const files = event.target.files;
    if (files) {
      handleScreensUpload(files);
    }
  };

  return (
    <Controls className="my-6">
      <TopLeftContent>
        <Label className="text-[#CECFD2] font-semibold flex flex-col gap-1">
          Application Information
          <span className="text-[#94969C] text-sm font-normal">
            These are the app main information
          </span>
        </Label>
      </TopLeftContent>

      <TopRightContent>
        <ToggleGroup
          className="p-[2px] border border-[#333741] rounded-lg"
          type="single"
        >
          <ToggleGroupItem className="flex items-center gap-2" size={"sm"} value="web-app">
            Web App
          </ToggleGroupItem>
          <ToggleGroupItem className="flex items-center gap-2" size={"sm"} value="marketing-page">
            Marketing Page
          </ToggleGroupItem>
        </ToggleGroup>
      </TopRightContent>

      <BottomLeftContent>
        <ToggleGroup
          type="single"
          value={status !== null ? status : "null"}
          onValueChange={(value) => handleScreensFilterChange(value === "null" ? null : value as "true" | "false" | null)}
        >
          <ToggleGroupItem size={"sm"} value="null">Show All</ToggleGroupItem>
          <ToggleGroupItem size={"sm"} value="true">Show Published Only</ToggleGroupItem>
          <ToggleGroupItem size={"sm"} value="false">Show Drafts Only</ToggleGroupItem>
        </ToggleGroup>
      </BottomLeftContent>

      <BottomRightContent>
        <div className="w-full h-full flex items-center gap-4">
          <Button
            variant={"outline"}
            onClick={() => document.getElementById('uploadFile')?.click()}
          >
            <input
              type="file"
              id="uploadFile"
              style={{ display: "none" }}
              onChange={handleFileInputChange}
              multiple
            />
            <SquareArrowOutUpRight /> Upload Screens
          </Button>
          <Button
            variant={"outline"}
            onClick={handleDeleteSelected}
            disabled={selectedScreens.length === 0}
          >
            <Trash2 className="text-destructive" /> Delete Selected
          </Button>
        </div>
      </BottomRightContent>
    </Controls>
  );
};

export default ScreensActions;
28:Ta43,"use client"

import { useState, useEffect, useCallback } from 'react';
import { useSearchParams, useRouter } from 'next/navigation';
import { debounce } from 'lodash';
import { searchApps } from '../_actions/searchApps';
import { TransformedResponse } from '../types';

export const useAppFilters = () => {
  const searchParams = useSearchParams();
  const router = useRouter();

  const [status, setStatus] = useState<"published" | "drafted" | null>(null);
  const [platform, setPlatform] = useState<string | null>(null);
  const [selectedFilters, setSelectedFilters] = useState<any>({});
  const [searchTerm, setSearchTerm] = useState<string>('');
  const [filteredApps, setFilteredApps] = useState<TransformedResponse>();

  useEffect(() => {
    const statusParam = searchParams.get('status');
    const platformParam = searchParams.get('platform');

    if (statusParam !== null) {
      setStatus(statusParam === 'published' ? 'published' : statusParam === 'drafted' ? 'drafted' : null);
    }
    if (platformParam !== null) {
      setPlatform(platformParam);
    }
  }, [searchParams]);

  const handleAppFilterChange = (newStatus: "published" | "drafted" | null, newPlatform: string | null) => {
    setStatus(newStatus);
    setPlatform(newPlatform);

    const params = new URLSearchParams();
    if (newStatus !== null) params.set('status', newStatus);
    if (newPlatform !== null) params.set('platform', newPlatform);

    router.replace(`?${params.toString()}`, { scroll: false });
  };

  const handleFilterChange = (type: 'keyword' | 'category', id: string) => {
    setSelectedFilters((prev: { [key in 'keyword' | 'category']: string[] }) => {
      const updatedFilters = { ...prev };
      if (updatedFilters[type].includes(id)) {
        updatedFilters[type] = updatedFilters[type].filter((item: string) => item !== id);
      } else {
        updatedFilters[type] = [...updatedFilters[type], id];
      }
      return updatedFilters;
    });
  };

  const fetchApps = useCallback(async (query: string) => {
    try {
      const data = await searchApps(query)
      setFilteredApps(data);
    } catch (error) {
      console.error("Error fetching apps:", error);
    }
  }, []);

  const debouncedFetchApps = useCallback(
    debounce((query: string) => {
      fetchApps(query);
    }, 300),
    [fetchApps]
  );

  const handleSearchChange = (query: string) => {
    setSearchTerm(query);
    debouncedFetchApps(query);
  };

  return {
    status,
    platform,
    selectedFilters,
    searchTerm,
    filteredApps,
    handleAppFilterChange,
    handleFilterChange,
    handleSearchChange,
  };
};
29:T1f1a,import { get } from "@/utils/api";
import type { MetadataRoute } from "next";
import QueryString from "qs";

interface App {
  attributes: {
    slug: string;
    platform: string;
  };
}

interface Category {
  id: number;
  attributes: {
    name: string;
  };
}

interface Tag {
  id: number;
  attributes: {
    name: string;
    types: {
      data: {
        id: number;
        attributes: {
          name: "mobile" | "web" | "marketing";
        };
      }[];
    };
  };
}

interface Component {
  id: number;
  attributes: {
    name: string;
  };
}

interface FlowAction {
  id: number;
  attributes: {
    name: string;
  };
}

// Generic function to fetch paginated data from a given endpoint
async function fetchPaginatedData<T>(
  endpoint: string,
  fields: string[],
  populate?: any
): Promise<T[]> {
  let page = 1;
  let hasMore = true;
  let results: T[] = [];

  while (hasMore) {
    const query = QueryString.stringify(
      {
        fields,
        populate,
        pagination: {
          page,
          pageSize: 100,
        },
      },
      {
        encodeValuesOnly: true,
      }
    );

    // eslint-disable-next-line no-await-in-loop
    const response = await get(`/${endpoint}?${query}`);
    const data = response.data as T[];

    if (data.length > 0) {
      results = results.concat(data);
      page += 1;
    } else {
      hasMore = false;
    }
  }

  return results;
}

export default async function sitemap(): Promise<MetadataRoute.Sitemap> {
  const baseUrl = process.env.BASE_URL;

  const staticRoutes: MetadataRoute.Sitemap = [
    {
      url: `${baseUrl}/`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/ios/apps`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/android/apps`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/web/apps`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/ios/screens`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/android/screens`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/web/screens`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/ios/components`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/android/components`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/web/components`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/web/marketing`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/ios/flows`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/android/flows`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/web/flows`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/pricing`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/legal/terms`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/legal/terms-of-service`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
    {
      url: `${baseUrl}/legal/privacy-policy`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.7,
    },
  ];

  const apps = await fetchPaginatedData<App>("apps", ["slug", "platform"]);

  // Generate routes for apps
  const appRoutes = apps.map((app) => ({
    url: `${baseUrl}/${app.attributes.platform}/apps/${encodeURIComponent(
      app.attributes.slug
    )}`,
    lastModified: new Date(),
    changeFrequency: "weekly" as const,
    priority: 0.8,
  }));

  const categories = await fetchPaginatedData<Category>("categories", ["name"]);

  // Generate routes for categories
  const categoryRoutes = categories.flatMap((category) => {
    const platforms = ["ios", "android", "web"];
    return platforms.map((platform) => ({
      url: `${baseUrl}/${platform}/apps?categories=${encodeURIComponent(
        category.attributes.name
      )}`,
      lastModified: new Date(),
      changeFrequency: "monthly" as const,
      priority: 0.6,
    }));
  });

  const tags = await fetchPaginatedData<Tag>("tags", ["name"], {
    types: {
      fields: ["name"],
    },
  });

  // Generate routes for tags based on their types
  const tagRoutes = tags.flatMap((tag) => {
    const routes: MetadataRoute.Sitemap = [];
    const tagName = encodeURIComponent(tag.attributes.name);
    const lastModified = new Date();
    const changeFrequency = "weekly" as const;
    const priority = 0.8;

    tag.attributes.types.data.forEach((type) => {
      switch (type.attributes.name) {
        case "mobile":
          routes.push(
            {
              url: `${baseUrl}/ios/screens?screens=${tagName}`,
              lastModified,
              changeFrequency,
              priority,
            },
            {
              url: `${baseUrl}/android/screens?screens=${tagName}`,
              lastModified,
              changeFrequency,
              priority,
            }
          );
          break;
        case "web":
          routes.push({
            url: `${baseUrl}/web/screens?screens=${tagName}`,
            lastModified,
            changeFrequency,
            priority,
          });
          break;
        case "marketing":
          routes.push({
            url: `${baseUrl}/web/marketing/${tagName}`,
            lastModified,
            changeFrequency,
            priority,
          });
          break;
        default:
          // Handle unexpected types
          console.warn(`Unexpected type: ${type.attributes.name}`);
          break;
      }
    });

    return routes;
  });

  const components = await fetchPaginatedData<Component>("components", ["name"]);

  // Generate routes for components
  const componentRoutes = components.flatMap((component) => {
    const platforms = ["ios", "android", "web"];
    const changeFrequency = "weekly" as const;
    return platforms.map((platform) => ({
      url: `${baseUrl}/${platform}/components/${encodeURIComponent(
        component.attributes.name
      )}`,
      lastModified: new Date(),
      changeFrequency,
      priority: 0.8,
    }));
  });

  const flowActions = await fetchPaginatedData<FlowAction>(
    "flow-actions",
    ["name"]
  );

  // Generate routes for flow actions
  const flowActionRoutes = flowActions.flatMap((flowAction) => {
    const platforms = ["ios", "android", "web"];
    const changeFrequency = "weekly" as const;
    return platforms.map((platform) => ({
      url: `${baseUrl}/${platform}/flows?flows=${encodeURIComponent(
        flowAction.attributes.name
      )}`,
      lastModified: new Date(),
      changeFrequency,
      priority: 0.8,
    }));
  });

  // Combine all routes
  const sitemapRoutes = [
    ...staticRoutes,
    ...appRoutes,
    ...categoryRoutes,
    ...tagRoutes,
    ...componentRoutes,
    ...flowActionRoutes,
  ];

  // Return the combined sitemap
  return sitemapRoutes;
}
2a:T10df,"use client";

import { Button } from "@/components/Shared/button";
import { Dialog, DialogContent } from "@/components/UI/dialog";
import {
  Drawer,
  DrawerContent,
  DrawerDescription,
  DrawerFooter,
  DrawerHeader,
} from "@/components/UI/drawer";
import { Logo } from "@/components/UI/logo";
import React, { useEffect } from "react";
import { useOnboarding } from "./_hooks/useOnboarding";

const onboardingSteps = [
  {
    title: "Multi-App Comparison Made Easy",
    description:
      "Easily compare multiple apps with our tabbed header. View designs side by side to gain insights and make more informed design decisions.",
  },
  {
    title: "Discover Design Trends",
    description:
      "Explore a vast collection of app designs to stay updated with the latest UI/UX trends and get inspired for your next project.",
  },
  {
    title: "Streamline Your Workflow",
    description:
      "Save time and boost productivity with our intuitive tools designed to enhance your app design process from start to finish.",
  },
];

const MobileOnboarding: React.FC = () => {
  const {
    currentStep,
    showModal,
    status,
    user,
    onboardingStep,
    handleNextStep,
    handleSkip,
  } = useOnboarding(onboardingSteps);

  const [progresses, setMobileProgresses] = React.useState<number[]>([0, 0, 0]);

  // In mobile-onboarding.tsx
  useEffect(() => {
    if (currentStep < onboardingSteps.length) {
      const duration = 5000;
      const startTime = Date.now();

      const animateProgress = () => {
        const elapsed = Date.now() - startTime;
        const percentage = Math.min((elapsed / duration) * 100, 100);
        setMobileProgresses((prev) => {
          const newProgresses = [...prev];
          newProgresses[currentStep] = percentage;
          return newProgresses;
        });

        if (percentage < 100) {
          requestAnimationFrame(animateProgress);
        } else {
          handleNextStep();
        }
      };

      animateProgress();
    }
    // Remove handleNextStep from the dependency array
  }, [currentStep]);

  if (status === "loading" || (status === "authenticated" && user?.confirmed)) return null;
  // if (!showModal) return null;

  return (
    <Dialog open={showModal}>
      <DialogContent className="size-full bg-slate-950 flex flex-col px-4 md:px-8 lg:px-10 xl:px-16 2xl:px-[100px]">
        <div className="flex gap-2 mt-4">
          {progresses.map((progress, index) => (
            // eslint-disable-next-line react/no-array-index-key
            <div key={index} className="flex-1 h-1 bg-slate-800 rounded-full overflow-hidden">
              <div
                className="h-full bg-aqua-600 transition-all duration-100"
                style={{ width: `${progress}%` }}
              />
            </div>
          ))}
        </div>
        <div className="size-fit flex items-center gap-3">
          <span className="relative w-12 flex items-center justify-center aspect-square shrink-0 rounded-full border-[0.8px] border-slate-700 px-1.5 bg-black-950">
            <Logo.Dipzin className="size-full" />
          </span>
          <div>
            <h3 className="text-base leading-normal font-medium">Dipzin</h3>
            <p className="text-white/60 text-xs">Design, Discover, Inspire</p>
          </div>
        </div>

        <Drawer defaultOpen>
          <DrawerContent className="bg-slate-900 p-3 rounded-t-3xl text-center">
            <DrawerHeader className="text-lg font-semibold">{onboardingStep?.title}</DrawerHeader>
            <DrawerDescription className="text-white/60 text-sm">
              {onboardingStep?.description}
            </DrawerDescription>
            <DrawerFooter className="w-full h-fit flex flex-row gap-x-4 mt-4">
              <Button className="flex-1" variant="ghost" fullWidth size="lg" onClick={handleSkip}>
                Skip
              </Button>
              <Button
                className="flex-1"
                fullWidth
                size="lg"
                onClick={handleNextStep}
              >
                {currentStep === onboardingSteps.length - 1 ? "Explore" : "Next"}
              </Button>
            </DrawerFooter>
          </DrawerContent>
        </Drawer>
      </DialogContent>
    </Dialog>
  );
};

export default MobileOnboarding;
2b:T2d81,"use client";

import { useState, useEffect, useCallback } from "react";
import { useSession, signOut } from "next-auth/react";
import Link from "next/link";
import {
  Avatar,
  AvatarFallback,
  AvatarImage,
} from "@/components/Shared/avatar";
import { Button } from "@/components/Shared/button";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/UI/tooltip";

import { Pill } from "@/components/Shared/pill";
import useIsMobile from "@/hooks/useIsMobile";
import { Icon } from "@/components/UI/icon";
import { Dropdown } from "@/components/Shared/dropdown";
import {
  Command,
  CommandGroup,
  CommandItem,
  CommandList,
  CommandSeparator,
} from "@/components/UI/command";
import { extractInitials } from "@/utils/StringUtils";
import { WheelGesturesPlugin } from "embla-carousel-wheel-gestures";
import useEmblaCarousel from "embla-carousel-react";
import {
  ArrowRightStartOnRectangleIcon,
  ArrowRightEndOnRectangleIcon,
} from "@heroicons/react/24/solid";

import { Dialog, DialogContent, DialogTrigger } from "@/components/UI/dialog";
import { SettingsModal } from "../../settings-modal";
import { storage } from "@/utils/storage";
import { useRouter } from "next/navigation";

const navigationItems = [
  { label: "Pricing", href: "/pricing" },
  { label: "Collections", href: "#", comingSoon: true },
  { label: "Blog", href: "#", comingSoon: true },
  { label: "Apps", href: "apps" },
  { label: "About", href: "#", comingSoon: true },
  { label: "Flows", href: "flows" },
  { label: "Support", href: "mailto:support@dipzin.com" },
  { label: "Screens", href: "screens" },
];

const soonItems = [
  {
    heading: "Marketing Pages",
    description: "Showcases your brand's offerings effectively.",
    badge: "Q2 2024",
  },
  {
    heading: "Arabic Marketing Pages",
    description: "Easily collect your Arabic marketing pages.",
    badge: "Q2 2024",
  },
  {
    heading: "Collections",
    description: "Create, share, comment, and save in your collection library.",
    badge: "Q3 2024",
  },
  {
    heading: "Flows",
    description: "See the flow screens of web and apps.",
    badge: "Q3 2024",
  },
  {
    heading: "Interactive Prototypes",
    description: "Interact with prototype screens all in one place.",
    badge: "Q3 2024",
  },
  {
    heading: "Journey Interactions",
    description: "View Flow Interactions, Gestures and Collect it.",
    badge: "Q3 2024",
  },
  {
    heading: "Figma Plugin",
    description: "Easily download screens with Figma Plugin.",
    badge: "Q4 2024",
  },
  {
    heading: "Mobile Apps",
    description: "Available for download as a mobile app.",
    badge: "Q4 2024",
  },
  {
    heading: "+1000 Apps",
    description: "Over 1000 apps available in one place.",
    badge: "Q4 2024",
  },
  {
    heading: "Comments",
    description: "Leave comments in your collection.",
    badge: "Q4 2024",
  },
];

const UserMenu = () => {
  const { data, status } = useSession();
  const user = data?.user
  const isMobile = useIsMobile();
  const [current, setCurrent] = useState(0);
  const [count, setCount] = useState(0);

  const router = useRouter();

  const [emblaRef, emblaApi] = useEmblaCarousel({ loop: true }, [
    WheelGesturesPlugin(),
  ]);

  const onSelect = useCallback(() => {
    if (!emblaApi) return;
    setCurrent(emblaApi.selectedScrollSnap());
  }, [emblaApi]);

  useEffect(() => {
    if (!emblaApi) return;
    setCount(emblaApi.scrollSnapList().length);
    onSelect();
    emblaApi.on("select", onSelect);
    // eslint-disable-next-line consistent-return
    return () => {
      emblaApi.off("select", onSelect);
    };
  }, [emblaApi, onSelect]);

  if (status === 'loading') {
    return null;
  }

  const handleSignOut = async () => {
    await signOut({ redirect: false });
    router.push("/access");
  };

  if (status === "unauthenticated" || !user) {
    return (
      <Button size="lg" className="rounded-full" href="/access">
        <ArrowRightEndOnRectangleIcon className="size-6" />
        Login
      </Button>
    );
  }

  const menuContent = (
    <Command className="w-full">
      <CommandList>
        <CommandGroup>
          <CommandItem className="w-full h-fit flex gap-4 sm:gap-1 items-center justify-between p-2">
            <Dialog>
              <DialogTrigger className="flex items-center gap-2 rounded-full hover:bg-slate-900 py-2 px-2.5">
                <Avatar>
                  <AvatarImage
                    src={storage(
                      (user.avatar?.hash ?? "") + (user.avatar?.ext ?? ""),
                    )}
                    alt={user.name || "Avatar"}
                  />
                  <AvatarFallback>
                    {extractInitials(user.name || "User")}
                  </AvatarFallback>
                </Avatar>
                <div className="flex flex-col items-start">
                  <p className="font-medium">{user.name}</p>
                  <p className="text-sm text-gray-500 hidden sm:flex">{user?.email}</p>
                  <p className="text-sm text-slate-400 flex sm:hidden">
                    @
                    {user?.username}
                  </p>
                </div>
                <Icon.Settings className="size-6 ml-4 hidden sm:flex" />
              </DialogTrigger>
              <DialogContent className="w-full max-w-screen-lg">
                <SettingsModal />
              </DialogContent>
            </Dialog>
            <div className="flex items-center gap-2">
              <Button
                variant="ghost"
                size="sm"
                // isIconOnly={isMobile}
                className="rounded-full sm:hover:bg-slate-900"
                onClick={handleSignOut}
              >
                <ArrowRightStartOnRectangleIcon className="size-6 sm:size-4 text-danger-400 sm:text-white" />
                <p className="hidden sm:flex">Logout</p>
              </Button>
            </div>
          </CommandItem>
        </CommandGroup>

        <CommandGroup heading="Navigation">
          <div
            className={`grid ${isMobile ? "grid-cols-1" : "grid-cols-2"} gap-2 p-2 max-w-max md:max-w-[70%]`}
          >
            {navigationItems.map((item) => {
              if (item.comingSoon) {
                return (
                  <TooltipProvider delayDuration={200} key={item.label}>
                    <Tooltip>
                      <TooltipTrigger asChild>
                        <span className="w-full h-fit rounded-xl text-base font-semibold   text-white hover:bg-slate-900 py-1 px-2 hover:outline-0 hover:text-aqua-500">
                          {item.label}
                        </span>
                      </TooltipTrigger>
                      <TooltipContent className="w-full h-fit rounded-xl text-sm font-semibold text-white py-1 px-2">
                        <p>Coming Soon</p>
                      </TooltipContent>
                    </Tooltip>
                  </TooltipProvider>
                );
              }
              return (
                <Link
                  key={item.label}
                  className="w-full h-fit rounded-xl text-base font-semibold text-white hover:bg-slate-900 py-1 px-2 hover:outline-0 hover:text-aqua-500"
                  href={item.href}
                >
                  {item.label}
                </Link>
              );
            })}
          </div>
        </CommandGroup>
        <CommandGroup>
          <div className="hidden sm:flex max-w-fit md:max-w-sm" ref={emblaRef}>
            <div className="flex">
              {[0, 1, 2].map((page) => (
                <div key={page} className="mx-1 flex-[0_0_100%]">
                  <div className="grid grid-cols-2 gap-3">
                    {soonItems.slice(page * 4, (page + 1) * 4).map((item) => (
                      <div
                        key={item.heading}
                        className="w-full h-[135px] bg-slate-800 hover:bg-slate-900 rounded-2xl p-4 flex flex-col gap-1 items-start justify-between text-start"
                      >
                        <h3 className="text-[12px] leading-normal font-medium text-white">
                          {item.heading}
                        </h3>
                        <p className="text-[11px] leading-normal font-normal text-slate-400">
                          {item.description}
                        </p>
                        <Pill
                          className={`mt-2 ${item.badge === "Q2 2024" ? "bg-lime-100 text-lime-900" : "bg-[#FCEED9] text-[#383B3D]"} text-[11px] rounded-[3px] px-1`}
                        >
                          {item.badge}
                        </Pill>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>

          <div className="mt-4 w-full h-fit flex p-0 items-center justify-between">
            <div className="hidden sm:flex justify-center">
              {Array.from({ length: count }, (_, i) => (
                <button
                  key={i}
                  type="button"
                  aria-label={`Go to page ${i + 1}`}
                  className={`size-2.5 rounded-full mx-1 ${current === i ? "bg-[#CBD5E1]" : "bg-slate-900"}`}
                  onClick={() => emblaApi?.scrollTo(i)}
                />
              ))}
            </div>
            <CommandGroup className="size-full">
              <CommandSeparator className="flex sm:hidden" />

              <CommandItem className="size-full flex items-center justify-center sm:justify-end gap-2 text-sm text-gray-500 p-2 sm:p-0">
                <Link
                  href="/legal/terms"
                  className="text-slate-500 hover:text-aqua-500 transition-all font-medium text-[10px]"
                >
                  Copyrights
                </Link>
                <Link
                  href="/legal/term-of-service"
                  className="text-slate-500 hover:text-aqua-500 transition-all font-medium text-[10px]"
                >
                  Terms of Service
                </Link>
                <Link
                  href="/legal/privacy-policy"
                  className="text-slate-500 hover:text-aqua-500 transition-all font-medium text-[10px]"
                >
                  Privacy
                </Link>
              </CommandItem>
            </CommandGroup>
          </div>
        </CommandGroup>
      </CommandList>
    </Command>
  );

  const triggerButton = (
    <Button variant="darkGray" className="sm:py-3 sm:px-1.5 p-1 rounded-full" role="combobox">
      <Avatar className="size-8">
        <AvatarImage
          src={storage((user.avatar?.hash ?? "") + (user.avatar?.ext ?? ""))}
          alt={user.name ?? "name"}
        />
        <AvatarFallback>{extractInitials(user.name || "User")}</AvatarFallback>
      </Avatar>
      <Icon.BurgerMenu className="size-8 hidden sm:block text-slate-400" />
    </Button>
  );

  return (
    <div className="flex items-center justify-center gap-4">
      <Button href="/pricing" className="rounded-xl">
        Join Us
      </Button>
      <Dropdown
        classNames={{
          trigger:
          "bg-[#1A2333] hover:bg-slate-900 border-[1px] border-slate-900 rounded-full flex items-center gap-x-2 p-1 pr-2",
          content:
          "w-fit h-fit bg-[#1A2333] border-[1px] border-slate-900 rounded-2xl p-0 sm:p-4",
        }}
        trigger={triggerButton}
        content={menuContent}
        placement="end"
      />
    </div>
  );
};

export default UserMenu;
2c:T8c9,"use client";

import { useState } from "react";
import { toast } from "./use-toast";
import { getScreenBlob } from "@/utils/getScreenBlob";

type DownloadState = {
  loading: boolean;
  error: string | null;
};

export function useDownloadScreen() {
  const [downloadState, setDownloadState] = useState<DownloadState>({
    loading: false,
    error: null,
  });

  async function downloadScreen(
    imageInput: string | string[],
    zipName = "Screenshots",
  ) {
    setDownloadState({ loading: true, error: null });

    try {
      if (typeof imageInput === "string") {
        // Single image download
        const blob = await getScreenBlob(imageInput);
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = `${zipName}.png`;
        link.click();

        toast({
          variant: "success",
          title: "Image Downloaded",
          description: "The image has been downloaded successfully.",
        });
      } else {
        // Bulk image download & zip using server-side function
        const response = await fetch("/api/zip-screens", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ imageUrls: imageInput, zipName }),
        });

        if (!response.ok) {
          throw new Error("Failed to create zip file");
        }

        const zipBlob = await response.blob();
        const link = document.createElement("a");
        link.href = URL.createObjectURL(zipBlob);
        link.download = `${zipName}.zip`;
        link.click();

        toast({
          variant: "success",
          title: "Images Downloaded",
          description:
            "The images have been downloaded successfully as a zip file.",
        });
      }
    } catch (error: any) {
      setDownloadState({ loading: false, error: error.message });
      toast({
        variant: "error",
        title: "Download Failed",
        description:
          "An error occurred while downloading the image(s). Please try again.",
      });
    } finally {
      setDownloadState((state) => ({ ...state, loading: false }));
    }
  }

  return { downloadScreen, ...downloadState };
}
2d:T162f,"use client";

import React from "react";
import {
  Avatar,
  AvatarImage,
  AvatarFallback,
} from "@/components/Shared/avatar";
import { Button } from "@/components/Shared/button";
import { Icon } from "@/components/UI/icon";
import { extractInitials, mergeIconFromObject } from "@/utils/StringUtils";
import { Dropdown } from "@/components/Shared/dropdown";
import { Checkbox } from "@/components/UI/checkbox";
import { storage } from "@/utils/storage";
import type { AppType } from "@/types/app-types";
import type { ScreenData } from "@/types/screen-types";
import { useBulkActionStore } from "@/stores/useBulkActionStore";
import { CopyButton } from "../../button/CopyButton";
import { DropdownMenuItem } from "@/components/UI/dropdown-menu";
import { useQuery } from "@/app/(explorer)/_hooks/useQuery";

// App Info Component
const AppInfo = ({ app }: { app: AppType }) => {
  const { setApps } = useQuery();

  const handleAppClick = () => {
    setApps((prevApps) => {
      const isAppSelected = prevApps.some((selectedApp: AppType) => selectedApp.id === app.id);
      if (!isAppSelected) {
        return [...prevApps, app];
      }
      return prevApps;
    });
  };

  return (
    <button onClick={handleAppClick} className="flex items-center text-start gap-2 md:gap-4 cursor-pointer" type="button" aria-label="App">
      <Avatar>
        <AvatarImage
          width={80}
          height={80}
          src={storage(mergeIconFromObject(app?.icon))}
          alt={app?.name}
        />
        <AvatarFallback>{extractInitials(app?.name || "")}</AvatarFallback>
      </Avatar>
      <div className="">
        <h3 className="text-white text-lg font-semibold">{app?.name}</h3>
        <p className="text-white text-sm">{app?.tag_line}</p>
      </div>
    </button>
  );
}

// Global Top Overlay
const GlobalTopOverlay = ({ screen, isSelected }: { screen: ScreenData, isSelected: boolean }) => {
  const { selectScreen, deselectScreen } = useBulkActionStore();
  const selected = isSelected;

  const handleCheckboxChange = () => {
    if (selected) {
      deselectScreen(screen.id.toString());
    } else {
      selectScreen(screen);
    }
  };

  const screenUrl = storage(screen.screen.hash + screen.screen.ext);

  const handleCopyLink = () => {
    const link = `${window.location.origin}/screen/${screen.id}`;
    navigator.clipboard.writeText(link);
  }

  return (
    <div className="w-full h-fit flex items-center justify-between px-5">
      <Checkbox
        className="size-[28px] bg-transparent rounded-[0.4rem] border-[2.5px]"
        checked={selected}
        onCheckedChange={handleCheckboxChange}
      />
      <div className="size-fit flex items-center gap-2">
        <CopyButton
          url={screenUrl}
          then={
            (
              <>
                <Checkbox checked className="size-6" />
                <p className="hidden sm:block">Copied</p>
              </>
            )
          }
          variant="darkGray"
          className="flex-1 hidden md:flex"
        >
          <Icon.Copy className="size-6 text-white" />
          <p className="hidden sm:block">Copy</p>
        </CopyButton>

        <Dropdown
          trigger={(
            <Button
              size="md"
              className="rounded-full p-2 bg-slate-800"
              variant="darkGray"
              isIconOnly
            >
              <Icon.Dots className="size-6 text-white" />
            </Button>
          )}
          content={(
            <DropdownMenuItem onClick={handleCopyLink}>
              <Icon.Link className="size-6" />
              Copy Link
            </DropdownMenuItem>
          )}
          classNames={{
            content: "w-fit",
          }}
          placement="end"
        />
      </div>
    </div>
  );
};

// Top Overlay Component
const TopOverlay = ({ screen, isSelected }: { screen: ScreenData, isSelected: boolean }) => (
  <div
    className={`absolute z-20 top-0 inset-x-0 flex ${screen.app?.platform === "web" ? "pt-2 pb-[5px] sm:pt-2 sm:pb-[20px] md:pt-2 md:pb-[25px] lg:pt-3 lg:pb-[30px] xl:pt-4 xl:pb-[35px]" : "pt-4 pb-[10px] sm:pt-3 sm:pb-[30px] md:pt-4 md:pb-[35px] lg:pt-5 lg:pb-[40px] xl:pt-6 xl:pb-[45px]"} items-center justify-center gap-4 bg-screen-hover-gradient-to-bottom opacity-0 group-hover:opacity-100 ${isSelected ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'} transition-opacity duration-300 ease-in-out hidden sm:flex`}
  >
    <GlobalTopOverlay screen={screen} isSelected={isSelected} />
  </div>
);

// Bottom Overlay Component
const BottomOverlay = ({ app, isSelected }: { app: AppType, isSelected: boolean }) => (
  <div
    className={`absolute z-20 bottom-0 inset-x-0 flex px-3 sm:px-4 md:px-4 lg:px-5 xl:px-6 ${app?.platform === "web" ? "pt-[5px] pb-[10px] sm:pb-[12px] sm:pt-[22px] md:pb-[10px] md:pt-[21px] lg:pb-[15px] lg:pt-[30px] xl:pb-[20px] xl:pt-[40px]" : "pb-[14px] pt-[15px] sm:pb-[15px] sm:pt-[27px] md:pb-[16px] md:pt-[33px] lg:pb-[21px] lg:pt-[45px] xl:pb-[26px] xl:pt-[55px]"} items-center justify-between bg-screen-hover-gradient-to-top opacity-0 group-hover:opacity-100 ${isSelected ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'} transition-opacity duration-300 ease-in-out hidden sm:flex`}
  >
    <AppInfo app={app} />
  </div>
);

// Screen Overlay component that triggers hover animation
export const ScreenOverlay = ({ screen }: { screen: ScreenData }) => {
  const { isSelected } = useBulkActionStore();
  const selected = isSelected(screen.id.toString());

  return (
    <>
      <TopOverlay screen={screen} isSelected={selected} />
      <BottomOverlay app={screen.app} isSelected={selected} />
    </>
  );
};
2e:T1845,"use client";

import { useState, useCallback } from "react";
import debounce from "lodash/debounce";
import { getCategoryElements } from "../_actions/getCategoryElements";
import { createCategoryElement } from "../_actions/createCategoryElement";
import { deleteCategoryElement } from "../_actions/deleteCategoryElement";
import { searchCategories } from "../_actions/searchCategories"; // Import the search action
import { ItemData } from "../types";
import { useToast } from "@/hooks/use-toast";
import { updateCategoryElement } from "../_actions/updateCategoryElement";

export const useCategoryElement = () => {
  const { toast } = useToast();

  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [elements, setElements] = useState<ItemData[]>([]);
  const [offset, setOffset] = useState(1);
  const [hasMore, setHasMore] = useState(true);
  const [searchResults, setSearchResults] = useState<any[]>([]); // State for search results

  // Fetch category elements with pagination
  const getData = useCallback(
    async (
      categorySlug: string,
      categoryId: number,
      elementsType: string,
      currentOffset = 1
    ) => {
      setLoading(true);
      setError(null);
      console.log("elementsType: ", elementsType);
      try {
        const {
          error,
          elements: newElements,
          hasMore,
        } = await getCategoryElements(
          categorySlug,
          categoryId,
          // elementsType,
          currentOffset
        );

        if (error) {
          throw new Error(error);
        }
        setElements((prev) =>
          currentOffset === 1 ? newElements : [...prev, ...newElements]
        ); // Update state with new data
        setHasMore(hasMore);
        setOffset(currentOffset);
      } catch (err) {
        console.log("err: ", err);
        setError(
          err instanceof Error ? err.message : "Unexpected error occurred"
        );
      } finally {
        setLoading(false);
      }
    },
    []
  );

  // Search category elements
  const searchData = useCallback(
    debounce(async (categorySlug: string, searchTerm: string) => {
      setLoading(true);
      setError(null);
      try {
        const result = await searchCategories(categorySlug, searchTerm);
        if (result.error) {
          throw new Error(result.error);
        }
        setSearchResults(result.data); // Set search results
      } catch (err) {
        setError(
          err instanceof Error ? err.message : "Unexpected error occurred"
        );
      } finally {
        setLoading(false);
      }
    }, 300),
    []
  );

  // Load more elements with debounce
  const loadMoreElements = debounce(
    async (elementSlug: string, categoryId: number, elementsType: string) => {
      if (!hasMore || loading) return; // If no more data or already loading, do nothing
      const nextOffset = offset + 1; // Increment offset number
      await getData(elementSlug, categoryId, elementsType, nextOffset); // Fetch next offset data
    },
    300
  );

  // Mutate elements data (ADD, UPDATE, DELETE)
  const mutateData = useCallback(
    async (actionType: "ADD" | "UPDATE" | "DELETE", elementData?: any) => {
      setLoading(true);
      setError(null);
      if (!elementData.elementSlug) {
        setError("Element Slug is required");
        setLoading(false);
        return;
      }
      try {
        if (actionType === "ADD") {
          if (elementData.categoryId && elementData.name) {
            const res = await createCategoryElement(
              elementData.elementSlug,
              elementData.categoryId,
              elementData.name
            );
            if (res.data) {
              setElements((prev) => [res.data, ...prev]);
              toast({
                description: "Category Created Successfully",
                variant: "default",
              });
            } else {
              toast({
                description: "Failed to create categorySlug",
                variant: "destructive",
              });
            }
          }
        } else if (actionType === "UPDATE") {
          if (elementData.id && elementData) {
            const res = await updateCategoryElement(
              elementData.elementSlug,
              elementData.id,
              elementData
            );
            if (res.data) {
              setElements((prev) =>
                prev.map((item) =>
                  item.id === elementData.id ? res.data : item
                )
              );
              toast({
                description: "Category Updated Successfully",
                variant: "default",
              });
            } else {
              toast({
                description: "Failed to update categorySlug",
                variant: "destructive",
              });
            }
          }
        } else if (actionType === "DELETE") {
          if (elementData.id) {
            const res = await deleteCategoryElement(
              elementData.elementSlug,
              elementData.id
            );
            if (res.data) {
              setElements((prev) =>
                prev.filter((item) => item.id !== elementData.id)
              );
              toast({
                description: "Category Deleted Successfully",
                variant: "default",
              });
            } else {
              toast({
                description: "Failed to delete ",
                variant: "destructive",
              });
            }
          }
        }
      } catch (err) {
        setError(
          err instanceof Error ? err.message : "Unexpected error occurred"
        );
        toast({
          description:
            "An error occurred: " +
            (err instanceof Error ? err.message : "Unexpected error occurred"),
          variant: "destructive",
        });
      } finally {
        setLoading(false);
      }
    },
    []
  );

  return {
    elements,
    setElements,
    loading,
    error,
    offset,
    hasMore,
    loadMoreElements,
    mutateData,
    searchResults, // Expose search results
    searchData, // Expose search function
  };
};
2f:Tc62,"use client";

import React, { useState, useCallback, useEffect } from "react";
import { cn } from "@/lib/utils";
import { BlogCard } from "../blog-card";
import {
  Carousel,
  CarouselContent,
  CarouselItem,
} from "@/components/ui/carousel";
import type { CarouselApi } from "@/components/ui/carousel";
import { useMediaQuery } from "@/hooks/useMediaQuery";
import { Blog } from "@/types/blog";
import { getBlogs } from "@/app/blogs/actions/getBlogs";

const DotButton: React.FC<{
  selected: boolean;
  onClick: () => void;
}> = ({ selected, onClick }) => {
  return (
    <button
      className={cn(
        "size-3 shrink-0 rounded-full transition-all duration-300",
        "mx-1 focus:outline-none",
        selected ? "bg-blue-500" : "bg-gray-200 hover:bg-gray-500/75"
      )}
      type="button"
      onClick={onClick}
    />
  );
};

const RecentBlogs = () => {
  const [blogs, setBlogs] = useState<Blog[]>([]);
  const isMobile = useMediaQuery("(max-width: 640px)");
  const isLaptop = useMediaQuery("(max-width: 1400px)");
  const [api, setApi] = useState<CarouselApi>();
  const [current, setCurrent] = useState(0);
  const [scrollSnaps, setScrollSnaps] = useState<number[]>([]);

  // Fetch blogs
  useEffect(() => {
    const fetchBlogs = async () => {
      const fetchedBlogs = await getBlogs(3);
      setBlogs(fetchedBlogs);
    };

    fetchBlogs();
  }, []);

  // Update scrollSnaps when the carousel is initialized
  useEffect(() => {
    if (!api) return;

    setScrollSnaps(api.scrollSnapList());

    api.on("select", () => {
      setCurrent(api.selectedScrollSnap());
    });
  }, [api]);

  // Handle dot click
  const onDotButtonClick = useCallback(
    (index: number) => {
      if (!api) return;
      api.scrollTo(index);
    },
    [api]
  );

  if (isMobile) {
    return (
      <>
        <Carousel className="w-full" setApi={setApi}>
          <CarouselContent>
            {blogs.map((blog) => (
              <CarouselItem key={blog.id}>
                <div className="px-2">
                  <BlogCard {...blog} />
                </div>
              </CarouselItem>
            ))}
          </CarouselContent>
        </Carousel>
        <div className="shrink-0 pt-4 flex items-center justify-center">
          {scrollSnaps.map((_, index) => (
            <DotButton
              key={index}
              selected={index === current}
              onClick={() => onDotButtonClick(index)}
            />
          ))}
        </div>
      </>
    );
  }

  return (
    <div className="flex flex-row overflow-x-scroll xl:overflow-hidden xl:grid xl:grid-cols-2 gap-6">
      {blogs.map((blog, index) => (
        <div
          key={blog.id}
          className={cn(
            "size-full min-w-full shrink-0 flex-1 p-1",
            index === 0 ? "col-span-1" : "lg:col-span-1",
            index === 0 ? "md:row-span-2 size-full" : "size-fit"
          )}
        >
          <BlogCard
            {...blog}
            orientation={
              isLaptop ? "vertical" : index === 0 ? "vertical" : "horizontal"
            }
          />
        </div>
      ))}
    </div>
  );
};

export default RecentBlogs;
30:T58e,"use client";

import { useHits, useInstantSearch } from "react-instantsearch";
import { CourseCard } from "../course-card";
import { useMediaQuery } from "@/hooks/useMediaQuery";
import { Course } from "@/types/course";
import { Loader2 } from "lucide-react";
import { CustomPagination } from "../pagination";

export default function CustomHits({ type = 2 }: { type?: 1 | 2 }) {
  const { items } = useHits();
  const isMobile = useMediaQuery("(max-width: 640px)");
  const { status } = useInstantSearch();

  if (status === "stalled") {
    return (
      <div className="size-full text-center global-layout">
        <Loader2 size={64} className="animate-spin m-auto text-blue-500" />
      </div>
    );
  }

  if (status === "error") {
    return (
      <div className="size-full text-center global-layout">
        <p className="text-gray-500 text-lg">
          No results found for your search.
        </p>
      </div>
    );
  }

  return (
    <div className="size-full space-y-6 md:space-y-10">
      <div className="size-fit grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-2 2xl:grid-cols-3 gap-4 lg:gap-6">
        {items.map((hit) => (
          <CourseCard
            key={hit.objectID}
            {...(hit as unknown as Course)}
            type={type}
            isMobile={isMobile}
          />
        ))}
      </div>
      <CustomPagination isMobile={isMobile} />
    </div>
  );
}
31:T16e0,"use client";

import { useState } from "react";
import { Search, X, ChevronLeft } from "lucide-react";
import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { useSearchBox, useHits } from "react-instantsearch";
import { useRouter } from "next/navigation";
import { DialogClose, DialogTitle } from "../ui/dialog";
import Subjects from "./subjects";
import { SearchFilters } from "@/app/search/_components";
import { Course } from "@/types/course";

const MobileSearchBar = ({
  selectedSubjects,
  removeSubject,
  handleSubjectSelect,
}: {
  selectedSubjects: string[];
  removeSubject: (subject: string) => void;
  handleSubjectSelect: (subject: string) => void;
}) => {
  const { refine } = useSearchBox();
  const { items } = useHits<AlgoliaHit>();
  const router = useRouter();
  const [searchValue, setSearchValue] = useState("");
  const [isSheetOpen, setIsSheetOpen] = useState(false);

  interface AlgoliaHit extends Course {
    objectID: string;
  }

  const [debouncedSearch] = useState(() => {
    let timeoutId: ReturnType<typeof setTimeout>;
    return (value: string) => {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => {
        refine(value);
      }, 300);
    };
  });

  const handleSearch = (value: string) => {
    router.push(`/search`);
    setSearchValue(value);
    debouncedSearch(value);
  };

  const handleSelect = (hit: AlgoliaHit) => {
    setIsSheetOpen(false);
    router.push(`/courses/${encodeURIComponent(hit.titlelink)}`);
  };

  return (
    <Sheet open={isSheetOpen} onOpenChange={setIsSheetOpen}>
      <SheetTrigger asChild>
        <button
          className="rounded-full bg-gray-100 p-2 aspect-square shrink-0 flex items-center justify-center"
          aria-label="Open search"
        >
          <Search size={24} className="text-gray-600" />
        </button>
      </SheetTrigger>

      <SheetContent
        side="top"
        className="h-full w-full px-4 flex flex-col overflow-y-scroll"
      >
        <DialogTitle className="sr-only">Search</DialogTitle>
        {/* Sheet Header with Search and Close */}
        <div className="flex items-center">
          <DialogClose className="mr-2 p-3" aria-label="Close search">
            <ChevronLeft size={24} />
          </DialogClose>

          <div className="relative flex flex-1 items-center gap-2 px-3 py-1 bg-gray-25 focus-within:bg-white focus-within:ring-1 ring-offset-2 ring-blue-500 rounded-full">
            <Search
              size={20}
              aria-hidden="true"
              className="aspect-square shrink-0 text-gray-500 pointer-events-none"
            />
            {selectedSubjects.map((subject: string) => (
              <Badge
                key={subject}
                className="mr-1 rounded-full text-lg leading-6 font-normal bg-white"
              >
                <button
                  type="button"
                  aria-label={`Remove ${subject} filter`}
                  className="mr-2 p-1 text-gray-500 hover:text-gray-700"
                  onClick={(e: React.MouseEvent<HTMLButtonElement>) => {
                    e.preventDefault();
                    removeSubject(subject);
                  }}
                >
                  <X
                    className="size-4 aspect-square shrink-0"
                    aria-hidden="true"
                  />
                  <span className="sr-only">Remove {subject}</span>
                </button>
                {subject}
              </Badge>
            ))}
            <Input
              type="search"
              role="searchbox"
              aria-label="Search courses"
              autoFocus
              placeholder={selectedSubjects.length ? "" : "Search..."}
              className="border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0"
              value={searchValue}
              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>
                handleSearch(e.target.value)
              }
            />
            {searchValue && (
              <button
                onClick={() => setSearchValue("")}
                className="absolute right-2 top-1/2 -translate-y-1/2"
                aria-label="Clear search"
              >
                <X size={20} className="text-gray-500" />
              </button>
            )}
          </div>
        </div>

        {/* Search Results */}
        {searchValue && (
          <div className="size-full ">
            <div className="w-full">
              {items.length === 0 ? (
                <div className="py-6 text-center">No results found.</div>
              ) : (
                <div className="w-full">
                  <h2 className="text-sm font-medium text-gray-800 mb-4">
                    Search Results
                  </h2>
                  {items.map((hit: AlgoliaHit) => (
                    <button
                      key={hit.objectID}
                      onClick={() => handleSelect(hit)}
                      className="w-full px-2 py-3 flex flex-col items-start text-start rounded-md hover:bg-blue-25 cursor-pointer"
                    >
                      <div className="font-medium text-xs">{hit.title}</div>
                    </button>
                  ))}
                </div>
              )}
            </div>
          </div>
        )}

        <h2 className="text-sm font-medium text-gray-800">Filters</h2>
        {/* Subjects Section */}
        <Subjects
          onSubjectSelect={handleSubjectSelect}
          selectedSubjects={selectedSubjects}
        />
        <div className="w-full h-fit px-1">
          <SearchFilters />
        </div>
      </SheetContent>
    </Sheet>
  );
};

export default MobileSearchBar;
32:Tb85,"use client";

import React from "react";
import { useSearchParams } from "next/navigation";
import {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
} from "@/components/ui/pagination";

interface PaginationProps {
  currentPage: number;
  totalPages: number;
}

const AppsPagination: React.FC<PaginationProps> = ({
  currentPage,
  totalPages,
}) => {
  const searchParams = useSearchParams();

  const createPageUrl = (pageNumber: number) => {
    const params = new URLSearchParams(searchParams.toString());
    params.set("page", pageNumber.toString());
    return `?${params.toString()}`;
  };

  const getPageNumbers = () => {
    const pageNumbers = [];
    const maxVisiblePages = 5;

    if (totalPages <= maxVisiblePages) {
      for (let i = 1; i <= totalPages; i++) {
        pageNumbers.push(i);
      }
    } else {
      if (currentPage <= 3) {
        for (let i = 1; i <= 4; i++) {
          pageNumbers.push(i);
        }
        pageNumbers.push("ellipsis");
        pageNumbers.push(totalPages);
      } else if (currentPage >= totalPages - 2) {
        pageNumbers.push(1);
        pageNumbers.push("ellipsis");
        for (let i = totalPages - 3; i <= totalPages; i++) {
          pageNumbers.push(i);
        }
      } else {
        pageNumbers.push(1);
        pageNumbers.push("ellipsis");
        for (let i = currentPage - 1; i <= currentPage + 1; i++) {
          pageNumbers.push(i);
        }
        pageNumbers.push("ellipsis");
        pageNumbers.push(totalPages);
      }
    }

    return pageNumbers;
  };

  return (
    <Pagination className="w-full">
      <PaginationContent className="w-full">
        <PaginationItem className="mr-auto">
          <PaginationPrevious
            href={createPageUrl(Math.max(1, currentPage - 1))}
            scroll={false}
            className={
              currentPage === 1 ? "pointer-events-none opacity-50" : ""
            }
          />
        </PaginationItem>
        {getPageNumbers().map((pageNumber, index) => (
          <PaginationItem key={index}>
            {pageNumber === "ellipsis" ? (
              <PaginationEllipsis />
            ) : (
              <PaginationLink
                href={createPageUrl(pageNumber as number)}
                scroll={false}
                isActive={pageNumber === currentPage}
              >
                {pageNumber}
              </PaginationLink>
            )}
          </PaginationItem>
        ))}
        <PaginationItem className="ml-auto">
          <PaginationNext
            href={createPageUrl(Math.min(totalPages, currentPage + 1))}
            scroll={false}
            className={
              currentPage === totalPages ? "pointer-events-none opacity-50" : ""
            }
          />
        </PaginationItem>
      </PaginationContent>
    </Pagination>
  );
};

export default AppsPagination;
33:Tc57,"use client";

import { ChevronLeft, ChevronRight } from "lucide-react";
import { usePathname, useRouter, useSearchParams } from "next/navigation";
import { usePagination } from "react-instantsearch";
import { useEffect } from "react";

export default function CustomPagination({ isMobile }: { isMobile: boolean }) {
  const router = useRouter();
  const pathname = usePathname();
  const searchParams = useSearchParams();

  // Convert URL page parameter from 1-based to 0-based indexing
  const currentPage = Math.max(0, (Number(searchParams.get("page")) || 1) - 1);

  const { pages, currentRefinement, isFirstPage, isLastPage, refine } =
    usePagination({
      padding: isMobile ? 1 : 2,
    });

  // Sync URL page parameter with InstantSearch on mount and URL changes
  useEffect(() => {
    if (currentPage !== currentRefinement) {
      refine(currentPage);
    }
  }, [currentPage, currentRefinement, refine]);

  const updateURL = (page: number) => {
    const params = new URLSearchParams(searchParams);
    // Convert 0-based page number to 1-based for URL
    params.set("page", (page + 1).toString());
    router.push(`${pathname}?${params.toString()}`, { scroll: false });
  };

  const handleClick = (event: React.MouseEvent, page: number) => {
    event.preventDefault();
    refine(page);
    updateURL(page);
  };

  return (
    <div className="w-full flex">
      <ul className="flex items-center gap-4 mx-auto">
        {!isFirstPage && (
          <li className="shadow-PillShadow text-gray-700 rounded-2xl overflow-hidden">
            <a
              onClick={(e) => handleClick(e, currentRefinement - 1)}
              className="font-medium text-base md:text-xl flex items-center justify-center size-8 md:size-14 p-3 md:p-4 aspect-square shrink-0"
            >
              <ChevronLeft className="size-4 md:size-6" />
            </a>
          </li>
        )}

        {pages.map((page) => {
          const isSelected = page === currentRefinement;
          return (
            <li
              key={page}
              className={`shadow-PillShadow text-gray-700 rounded-2xl overflow-hidden ${
                isSelected
                  ? "bg-blue-500 text-white border border-blue-500"
                  : ""
              }`}
            >
              <a
                onClick={(e) => handleClick(e, page)}
                className="font-medium text-base md:text-xl flex items-center justify-center size-8 md:size-14 p-3 md:p-4 aspect-square shrink-0"
                aria-current={isSelected ? "page" : undefined}
              >
                {page + 1}
              </a>
            </li>
          );
        })}

        {!isLastPage && (
          <li className="shadow-PillShadow text-gray-700 rounded-2xl overflow-hidden">
            <a
              onClick={(e) => handleClick(e, currentRefinement + 1)}
              className="font-medium text-base md:text-xl flex items-center justify-center size-8 md:size-14 p-3 md:p-4 aspect-square shrink-0"
            >
              <ChevronRight className="size-4 md:size-6" />
            </a>
          </li>
        )}
      </ul>
    </div>
  );
}
34:Tb8d,import React from "react";
import { BlogBody, BlogHero, Figure, Heading, Paragraph } from "./_blocks";
import { CTA } from "@/components/cta";
import { getBlog } from "./actions/getBlog";
import parse, {
  domToReact,
  HTMLReactParserOptions,
  Element,
  DOMNode,
} from "html-react-parser";
import { slugify } from "@/utils/string-utils";

const BlogPage = async ({ params }: { params: Promise<{ slug: string }> }) => {
  const { slug } = await params;
  const blog = await getBlog(slug);

  const extractedHeadings: { label: string; slug: string }[] = [];

  const options: HTMLReactParserOptions = {
    replace: (domNode) => {
      if (domNode.type === "tag") {
        const { name, children } = domNode as Element;
        const childNodes = children as DOMNode[];

        if (name === "h1" || name === "h2" || name === "h3") {
          const headingText = String(domToReact(childNodes, options));
          const headingSlug = slugify(headingText);
          extractedHeadings.push({ label: headingText, slug: headingSlug });

          return <Heading title={headingText} id={headingSlug} />;
        }

        if (
          name === "p" &&
          childNodes.length === 1 &&
          childNodes[0].type === "tag" &&
          (childNodes[0] as Element).name === "img"
        ) {
          const imgNode = childNodes[0] as Element;
          const src = imgNode.attribs.src.split("?")[0]; // Remove query parameters
          return <Figure src={src} alt={imgNode.attribs.alt} />;
        }

        switch (name) {
          case "p":
            return (
              <Paragraph paragraph={String(domToReact(childNodes, options))} />
            );
          default:
            return domToReact(childNodes, options);
        }
      }
    },
  };

  const parsedContent = parse(blog?.content || "", options);

  return (
    <>
      <BlogHero {...blog} />
      <BlogBody headings={extractedHeadings}>{parsedContent}</BlogBody>
      <CTA
        title="Effective Team Communication"
        heading="Join thousands of learners and gain the skills to transform your career with Expert instructors."
        description="Browse our collection of free customizable templates, and start editing your video, Develop skills to foster collaboration and understanding within teams, ensuring seamless project execution."
        coverSrc="/assets/placeholder.jpg"
      />
    </>
  );
};

export default BlogPage;

export async function generateMetadata({
  params,
}: {
  params: Promise<{ slug: string }>;
}) {
  const { slug } = await params;
  const blog = await getBlog(slug);

  if (!blog) {
    return {
      title: "Course Not Found | StudyHive",
      description: "The blog you are looking for does not exist.",
    };
  }

  return {
    title: `${blog.title} | StudyHive Blog`,
    description: `Read ${blog.title} on StudyHive's blog to gain valuable insights and advice on online learning and educational success.`,
  };
}
35:T14c1,/*
  This Component is a translator for the content object that comes from the resources array.
  It maps the content object to the corresponding component that will render the content specified in the object type key.
*/

import React from 'react';
import MarkdownRenderer from '@/components/MarkdownRendered';
import TableOfContentCard from './TableOfContentCard';
import {
  Media,
  ResourceHero,
  CallToAction,
  MoreAbout,
  OneMoreAbout,
  Speaker,
  Testimonial,
} from '@/components/centers/resources-center/blocks';
import Image from 'next/image';
import { Divider } from '@nextui-org/divider';
import { resources } from '@/utils/resources';
import { Avatar } from '@nextui-org/avatar';

const H1Heading = ({ text }) => (
  <div className="w-full h-fit flex items-center gap-4">
    <h1 className="text-[#173057] text-[1.875rem] font-semibold whitespace-nowrap">
      {text}
    </h1>
    <span className="w-full h-fit">
      <Divider className="w-full h-[2px] bg-[#ECECEC]" />
    </span>
  </div>
);

const H2Heading = ({ text }) => (
  <h2 className="text-[1.375rem] font-bold text-[#475467]">{text}</h2>
);

const Paragraph = ({ text }) => (
  <MarkdownRenderer className="text-[#475467] text-[1.25rem] font-medium">
    {text}
  </MarkdownRenderer>
);

const ListItem = ({ icon, text }) => (
  <li className="flex items-center justify-start gap-[1rem] p-[0.625rem]">
    <Image src={icon} alt={text} width={24} height={24} />
    {text}
  </li>
);

const GenericList = ({ items, icon }) => (
  <ul className="w-full h-full flex flex-col justify-start">
    {items.map((item, index) => (
      <ListItem key={index} icon={icon} text={item} />
    ))}
  </ul>
);

const BulletList = ({ items }) => (
  <GenericList items={items} icon="/assets/icons/bullet-point.svg" />
);

const CheckList = ({ items }) => (
  <GenericList items={items} icon="/assets/icons/check-point.svg" />
);

const User = ({ imgSrc, name, position }) => (
  <div className="w-full h-fit p-[2rem] flex flex-row items-center justify-start gap-[1rem]">
    <Avatar
      src={imgSrc}
      className="w-full h-full max-w-[8.75rem] max-h-[8.75rem] rounded-full border-[.25rem] border-Primary2/30"
    />
    <div className="space-y-[0.5rem] ">
      {name}
      <p className="text-[#475467] text-[1.25rem] ">{position}</p>
    </div>
  </div>
)

const contentComponents = {
  h1: H1Heading,
  h2: H2Heading,
  p: Paragraph,
  media: (props) => <Media {...props} />,
  callToAction: CallToAction,
  speaker: Speaker,
  quote: Testimonial,
  bulletList: BulletList,
  checkList: CheckList,
  oneMoreAbout: OneMoreAbout,
  moreAbout: MoreAbout,
  user: User,
};

const renderContent = (item, index) => {
  const Component = contentComponents[item.type];
  if (!Component) return null;

  const props = { ...item.value };

  switch (item.type) {
    case 'h1':
    case 'h2':
    case 'p':
      props.text = item.value;
      break;
    case 'media':
      props.MediaType = item.value.type ? item.value.type : 'image';
      props.MediaSrc = item.value.src;
      props.MediaLabel = item.value.label;
      break;
    case 'callToAction':
      props.Body = item.value.body;
      props.CTALabel = item.value.cta.label;
      props.CTAHref = item.value.cta.href;
      props.Heading = item.value.heading;
      props.ImageSrc = item.value.imgSrc;
      props.size = item.value.size;
      break;
    case 'quote':
      props.label = item.value.label;
      props.testimonial = item.value.text;
      props.UserName = item.value.author.name;
      props.UserDescription = item.value.author.description;
      props.UserAvatarSrc = item.value.author.imgSrc;
      break;
    case 'bulletList':
    case 'checkList':
      props.items = item.value;
      break;
    case 'moreAbout':
      props.featured = item.value.featured;
      props.moreItems = item.value.moreItems;
      break;
    case 'oneMoreAbout':
      props.slug = item.value;
      break;
    case 'speaker':
      props.speaker = item.value;
      break;
    case 'user':
      props.imgSrc = item.value.imgSrc;
      props.name = item.value.name;
      props.position = item.value.position;
      break;
    default:
      break;
  }

  return <Component key={`${item.type}-${index}`} {...props} />;
};

const ContentRenderer = ({ content }) => {
  const resourceType = content.type;
  const overview = content.overview;

  return (
    <div className="w-full h-full flex flex-col gap-[4.5rem]">
      <ResourceHero item={overview} type={resourceType} slug={content.slug} />
      <div className="w-full h-full flex gap-[2rem] relative">
        <article className={`${resourceType === 'blog' ? 'w-3/4' : 'w-full'} h-fit flex flex-col gap-[2rem] items-start justify-center`}>
          {Object.entries(content.content).map((item, index) =>
            renderContent(item[1], index)
          )}
        </article>
        {resourceType === 'blog' ? (
          <div className="w-1/4 h-fit space-y-3">
            <TableOfContentCard blogId={content.id} type={resourceType} />
            ) : (
            <>
              {/* {related.map((item) => (
                <ResourceCard type="slim" key={item.id} item={item} />
              ))} */}
            </>
          </div>
        ) : null}
      </div>
    </div >
  );
};

export default ContentRenderer;
36:T1275,"use client";
import React, { useState, useEffect } from "react";
import { FilterList, Results } from ".";
import { Input } from "@nextui-org/input";
import Image from "next/image";
import { Button } from "@nextui-org/button";
import integrationsData from "@/utils/integrationsData";

const Filtration = () => {
  const [searchTerm, setSearchTerm] = useState("");
  const [selectedFilters, setSelectedFilters] = useState({ industry: 'All', type: 'All', tier: 'All' });
  const [visibleResults, setVisibleResults] = useState([]);
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isLargeScreen, setIsLargeScreen] = useState(false);
  const [loadedResultsCount, setLoadedResultsCount] = useState(4);

  // Function to toggle the menu
  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  const handleSearchChange = (event) => {
    setSearchTerm(event.target.value);
  };

  const handleFilterChange = (industry, type, tier) => {
    setSelectedFilters({ industry, type, tier });
  };

  const loadMoreResults = () => {
    setLoadedResultsCount((prevCount) => prevCount + 6);
  };

  useEffect(() => {
    setLoadedResultsCount(isLargeScreen ? 15 : 5);
  }, [isLargeScreen]);

  useEffect(() => {
    const filteredData = integrationsData.filter((app) => {
      const matchesIndustry = selectedFilters.industry === 'All' || app.industry === selectedFilters.industry;
      const matchesType = selectedFilters.type === 'All' || app.type === selectedFilters.type;
      const matchesTier = selectedFilters.tier === 'All' || app.tier === selectedFilters.tier;
      const matchesSearch = app.name.toLowerCase().includes(searchTerm.toLowerCase());
      return matchesIndustry && matchesType && matchesTier && matchesSearch;
    });

    setVisibleResults(filteredData.slice(0, loadedResultsCount));
  }, [searchTerm, selectedFilters, loadedResultsCount]);


  useEffect(() => {
    const mediaQuery = window.matchMedia("(min-width: 1024px)");
    setIsLargeScreen(mediaQuery.matches);

    const handleMediaQueryChange = (e) => {
      setIsLargeScreen(e.matches);
    };

    mediaQuery.addEventListener("change", handleMediaQueryChange);
    return () => mediaQuery.removeEventListener("change", handleMediaQueryChange);
  }, []);

  return (
    <div className="flex flex-col w-full h-full gap-12">
      <div className="flex flex-col items-center justify-between gap-6 lg:flex-row">
        <div className="flex items-center gap-8 mr-auto">
          <div className="container h-[100px] w-[100px] p-4 shadow-iconBoxShadow bg-white rounded-2xl">
            <Image width={65} height={65} src={"/assets/icons/all-integrations.svg"} alt="all integrations" />
          </div>
          <h1 className="text-3xl font-semibold lg:text-5xl text-Primary whitespace-nowrap">All Integrations</h1>
        </div>
        <div className="flex items-center gap-4">
          <Input
            variant="faded"
            value={searchTerm}
            placeholder="Search"
            onChange={handleSearchChange}
            className="rounded-lg"
            classNames={{
              inputWrapper: "bg-LightBlue border-2 pr-36 lg:pr-56 border-LightBlue",
              input: "ml-4 text-[#56729F] placeholder:text-[#56729F]"
            }}
            startContent={
              <Image
                src={"assets/designs/Magnifire.svg"}
                alt="Magnifire"
                width={24}
                height={24}
              />
            }
          />
          <Button
            isIconOnly
            variant="light"
            color="primary"
            className="p-2 lg:hidden"
            onClick={toggleMenu}
          >
            <Image
              src={"/assets/designs/filter.svg"}
              width={24}
              height={24}
              alt="filters"
            />
          </Button>
        </div>

      </div>
      <div className="flex w-full h-full gap-12 overflow-hidden">
        <FilterList
          onFilterChange={handleFilterChange}
          isMenuOpen={isMenuOpen}
          toggleMenu={toggleMenu}
          isLargeScreen={isLargeScreen}
        />
        <div
          className={`w-full min-h-full flex lg:flex-[.75] flex-col gap-6 ${!isLargeScreen && isMenuOpen ? "hidden" : "flex"
            } px-6`}
        >
          <Results results={visibleResults} />
          <Button
            className="h-fit border-1 text-xl font-semibold border-[#D1EBFA] bg-LightBlue text-Primary py-3"
            variant="light"
            color="primary"
            fullWidth
            onClick={loadMoreResults}
          >
            Load more
          </Button>
        </div>
      </div>
    </div>
  );
};

export default Filtration;37:T10b7,'use client';

import { Button } from '@nextui-org/button';
import { Input } from '@nextui-org/input';
import Image from 'next/image';
import React, { useState, useEffect } from 'react';
import Icons from '../../ui/Icons';

const ResourcesFiltration = ({
  initialFilters,
  onFiltersChange,
  onSearch,
  searchTerm: initialSearchTerm,
}) => {
  const [selectedFilters, setSelectedFilters] = useState(initialFilters);
  const [searchTerm, setSearchTerm] = useState(initialSearchTerm);

  useEffect(() => {
    setSelectedFilters(initialFilters);
  }, [initialFilters]);

  useEffect(() => {
    setSearchTerm(initialSearchTerm);
  }, [initialSearchTerm]);

  const filterButtonsData = [
    {
      icon: (
        <Icons.AllRecourses className={'min-w-[1.75rem] min-h-[1.75rem]'} />
      ),
      label: 'All Resources',
    },
    {
      icon: <Icons.Blogs className={'min-w-[1.75rem] min-h-[1.75rem]'} />,
      label: 'blog',
    },
    {
      icon: <Icons.Videos className={'min-w-[1.75rem] min-h-[1.75rem]'} />,
      label: 'video',
    },
    {
      icon: <Icons.Webinars className={'min-w-[1.75rem] min-h-[1.75rem]'} />,
      label: 'whitepaper',
    },
    {
      icon: (
        <Icons.CustomerStories className={'min-w-[1.75rem] min-h-[1.75rem]'} />
      ),
      label: 'Customer Stories',
    },
    {
      icon: <Icons.Press className={'min-w-[1.75rem] min-h-[1.75rem]'} />,
      label: 'Press',
    },
    {
      icon: <Icons.Guide className={'min-w-[1.75rem] min-h-[1.75rem]'} />,
      label: 'Guide',
    },
  ];

  const handleFilterClick = (label) => {
    setSelectedFilters((prevFilters) => {
      if (label === 'All Resources') {
        return ['All Resources'];
      }
      let newFilters;
      if (prevFilters.includes(label)) {
        newFilters = prevFilters.filter((f) => f !== label);
      } else {
        newFilters = [
          ...prevFilters.filter((f) => f !== 'All Resources'),
          label,
        ];
      }
      return newFilters.length === 0 ? ['All Resources'] : newFilters;
    });
  };

  const handleApplyFilters = (e) => {
    e.preventDefault();
    onFiltersChange(selectedFilters);
    onSearch(searchTerm);
  };

  return (
    <div className="shadow-[0_0_20px_0_rgba(0,0,0,0.1)] flex flex-col w-full h-fit gap-[1.5rem] bg-[#fff] p-8 rounded-xl">
      <form
        className="flex flex-row justify-between w-full h-fit items-center gap-2"
        onSubmit={handleApplyFilters}
      >
        <Input
          className="shadow-[0_0_6px_0px_rgba(0,0,0,0.1)] rounded-xl"
          classNames={{
            inputWrapper:
              'w-full h-fit rounded-lg bg-white data-[hover=true]:bg-white shadow-none py-[1rem] rounded-xl',
          }}
          type="search"
          placeholder="Search.."
          startContent={
            <Image
              src={'/assets/icons/search.svg'}
              width={20}
              height={20}
              alt="search"
            />
          }
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
        <Button
          type="submit"
          color="primary"
          className="bg-[#0065B1] w-fit h-fit py-[1rem] px-[2.5rem]"
        >
          Apply Filters
        </Button>
      </form>
      <div className="flex flex-row justify-start w-full h-full items-center gap-[2rem] px-1 py-1 overflow-x-scroll scrollbar-hide">
        {filterButtonsData.map((item) => (
          <Button
            key={item.label}
            disableRipple
            disableAnimation
            variant={'bordered'}
            startContent={React.cloneElement(item.icon, {
              fill: selectedFilters.includes(item.label) ? 'blue' : 'gray',
            })}
            className={`text-[1.25rem] min-w-0 shrink-0 transition-all data-[hover=true]:bg-transparent w-fit h-fit py-[1rem] px-[1.25rem] ${
              selectedFilters.includes(item.label)
                ? 'border-[#0065B1] text-[#0065B1]'
                : 'shadow-[0_0_6px_0px_rgba(0,0,0,0.1)] border-transparent text-[#475F85]'
            }`}
            onClick={() => handleFilterClick(item.label)}
          >
            {item.label}
          </Button>
        ))}
      </div>
    </div>
  );
};

export default ResourcesFiltration;
38:T1303,'use client';

import React, { useState, useMemo, useEffect } from 'react';
import { useRouter, useSearchParams } from 'next/navigation';
import {
  ResourceCard,
  SuggestedResources,
  ResourcesFiltration,
  ResourcesPagination,
} from '@/components/centers/resources-center';

// Import the new data structure
import { resources } from '@/utils/resources';

const ITEMS_PER_PAGE = 6;

const ResourcesCenter = () => {
  const [currentPage, setCurrentPage] = useState(1);
  const searchParams = useSearchParams();
  const router = useRouter();
  const [selectedFilters, setSelectedFilters] = useState(['All Resources']);
  const [searchTerm, setSearchTerm] = useState('');

  useEffect(() => {
    const filters = searchParams.get('filters')
      ? decodeURIComponent(searchParams.get('filters')).split(',')
      : ['All Resources'];
    setSelectedFilters(filters);
    setSearchTerm(searchParams.get('search') || '');
  }, [searchParams]);

  const filteredResources = useMemo(() => {
    let filtered = resources;

    if (selectedFilters.length && !selectedFilters.includes('All Resources')) {
      filtered = filtered.filter(
        (item) =>
          selectedFilters.includes(item.type) ||
          selectedFilters.includes(item.overview.itemType)
      );
    }

    if (searchTerm) {
      const lowerSearchTerm = searchTerm.toLowerCase();
      filtered = filtered.filter(
        (item) =>
          item.overview.name.toLowerCase().includes(lowerSearchTerm) ||
          item.overview.overview.toLowerCase().includes(lowerSearchTerm)
      );
    }

    return filtered;
  }, [resources, selectedFilters, searchTerm]);

  const totalPages = Math.ceil(filteredResources.length / ITEMS_PER_PAGE);
  const paginatedResources = filteredResources.slice(
    (currentPage - 1) * ITEMS_PER_PAGE,
    currentPage * ITEMS_PER_PAGE
  );

  const handleFiltersChange = (newFilters) => {
    setSelectedFilters(newFilters);
    setCurrentPage(1);
  };

  const handleSearch = (newSearchTerm) => {
    setSearchTerm(newSearchTerm);
    setCurrentPage(1);
  };

  useEffect(() => {
    const updateURL = () => {
      const params = new URLSearchParams();
      if (
        selectedFilters.length > 0 &&
        !selectedFilters.includes('All Resources')
      ) {
        params.set('filters', encodeURIComponent(selectedFilters.join(',')));
      }
      if (searchTerm) {
        params.set('search', encodeURIComponent(searchTerm));
      }
      router.push(`?${params.toString()}`, { scroll: false });
    };

    updateURL();
  }, [selectedFilters, searchTerm, router]);

  const topResources = resources.slice(0, 3).map((resource) => ({
    type: resource.overview.itemType,
    label: resource.overview.name,
    imgSrc: resource.overview.imgSrc,
    slug: resource.slug,
  }));

  return (
    <main className="w-full h-full flex flex-col gap-[20vh] mb-[10vh] items-center justify-center">
      <div className="w-full h-full relative">
        <div className="pb-[20vh] flex flex-col gap-[2rem] bg-exSection px-3 md:px-10 lg:px-14 xl:px-28 2xl:px-[11.25rem] py-[10vh]">
          <div className="w-full h-fit flex flex-col gap-3">
            <h1 className="text-[#173057] text-[48px]">Resource Center</h1>
            <p className="text-[#475F85] text-[16px]">
              Explore our comprehensive resources to find exactly what you need
              to succeed.
            </p>
          </div>
          <SuggestedResources resources={topResources} />
        </div>
        <div className="w-full h-fit absolute bottom-0 translate-y-[50%] px-[10vh]">
          <ResourcesFiltration
            initialFilters={selectedFilters}
            onFiltersChange={handleFiltersChange}
            onSearch={handleSearch}
            searchTerm={searchTerm}
          />
        </div>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[2.5rem] w-full h-fit rounded-xl px-3 md:px-10 lg:px-14 xl:px-28 2xl:px-[11.25rem]">
        {paginatedResources.length > 0 ? (
          paginatedResources.map((item, index) => (
            <div className="flex w-full h-full flex-1" key={index}>
              <ResourceCard
                slug={item.slug}
                type={item.type}
                item={item.overview}
              />
            </div>
          ))
        ) : (
          <div className="col-span-full w-full h-full flex justify-center items-center">
            <p className="text-[#475F85] text-[16px]">
              No items found. Please try different filters or search terms.
            </p>
          </div>
        )}
      </div>
      {filteredResources.length > ITEMS_PER_PAGE && (
        <ResourcesPagination
          page={currentPage}
          totalPages={totalPages}
          onPageChange={setCurrentPage}
        />
      )}
    </main>
  );
};

export default ResourcesCenter;
39:T1218,"use client";
import React, { useState, useMemo } from "react";
import { Button, ButtonGroup } from "@nextui-org/button";
import Image from "next/image";
import Link from "next/link";
import integrationsData from "@/utils/integrationsData";

const FilterList = ({
  onFilterChange,
  filters,
  isMenuOpen,
  toggleMenu,
  isLargeScreen,
}) => {

  const [selectedIndustry, setSelectedIndustry] = useState('All');
  const [selectedType, setSelectedType] = useState('All');
  const [selectedTier, setSelectedTier] = useState('All');

  // Compute unique values for Industry, Type, and Tier
  const uniqueTypes = useMemo(() => ['All', ...new Set(integrationsData.map(item => item.type))], []);
  const uniqueTiers = useMemo(() => ['All', ...new Set(integrationsData.map(item => item.tier))], []);
  const uniqueIndustries = useMemo(() => ['All', ...new Set(integrationsData.map(item => item.industry))], []);


  const handleIndustrySelect = (industry) => {
    const newIndustry = selectedIndustry === industry ? 'All' : industry;
    setSelectedIndustry(newIndustry);
    onFilterChange(newIndustry, selectedType, selectedTier);
  };

  const handleTypeSelect = (type) => {
    const newType = selectedType === type ? 'All' : type;
    setSelectedType(newType);
    onFilterChange(selectedIndustry, newType, selectedTier);
  };

  const handleTierSelect = (tier) => {
    const newTier = selectedTier === tier ? 'All' : tier;
    setSelectedTier(newTier);
    onFilterChange(selectedIndustry, selectedType, newTier);
  };


  return (
    <div
      className={`w-full h-full block lg:flex-[.25] flex-col gap-6 bg-LightBlue p-6 rounded-xl overflow-y-auto ${(!isLargeScreen && isMenuOpen) || isLargeScreen ? "flex" : "hidden"}`}

    >
      <div className="flex flex-col gap-4 w-full h-full">
        <p className="font-medium text-lg text-[#9CADC9]">Filters</p>
        <div className="flex items-center justify-between">
          <h1 className="text-lg font-bold text-Primary">Types:</h1>
          <Button
            onClick={toggleMenu}
            isIconOnly
            variant="light"
            className="rounded lg:hidden"
          >
            <Image
              src={"/assets/designs/close-x.svg"}
              width={48}
              height={48}
              alt="filters"
            />
          </Button>
        </div>

        <div>
          <div className="flex flex-col gap-2">
            {uniqueTypes.map((type, index) => (
              <Button
                key={index}
                variant="light"
                onClick={() => handleTypeSelect(type)}
                className={`w-full h-fit py-2 rounded-[4px] bg-white text-[#56729F] ${selectedType === type ? "bg-[#FFE7DB]" : "data-[hover=true]:bg-[#FFE7DB]"} text-base leading-6 text-left justify-start`}
              >
                {type}
              </Button>
            ))}
          </div>
        </div>
      </div>

      <h1 className="text-lg font-bold text-Primary">Tier:</h1>
      <div className="flex flex-col gap-2">
        {uniqueTiers.map((tier, index) => (
          <Button
            key={index}
            variant="light"
            onClick={() => handleTierSelect(tier)}
            className={`w-full h-fit py-2 rounded-[4px] bg-white text-[#56729F] ${selectedTier === tier ? "bg-[#FFE7DB]" : "data-[hover=true]:bg-[#FFE7DB]"} text-base leading-6 text-left justify-start`}
          >
            {tier}
          </Button>
        ))}
      </div>

      <h1 className="text-lg font-bold text-Primary">Industry:</h1>
      <div className="flex flex-col gap-2">
        {uniqueIndustries.map((industry, index) => (
          <Button
            key={index}
            variant="light"
            onClick={() => handleIndustrySelect(industry)}
            className={`w-full h-fit py-2 rounded-[4px] bg-white text-[#56729F] ${selectedIndustry === industry ? "bg-[#FFE7DB]" : "data-[hover=true]:bg-[#FFE7DB]"} text-base leading-6 text-left justify-start`}
          >
            {industry}
          </Button>
        ))}
      </div>
      <div className="flex flex-col gap-2.5 ">
        <div className="flex items-center gap-2.5 ">
          <h1 className="text-Primary text-base font-semibold">Request an integration</h1>
          <Image
            width={20}
            height={20}
            src={"assets/designs/info.svg"}
            alt="info"
          />
        </div>
        <Link
          href={"mailto:support@experience.com"}
          className="text-Primary3"
        >
          support@experience.com
        </Link>
      </div>
    </div>
  );
};

export default FilterList;
3a:T1c93,'use client';

import React, { useState, useEffect } from 'react';
import { Input } from '@nextui-org/input';
import { Button } from '@nextui-org/button';
import {
  Dropdown,
  DropdownTrigger,
  DropdownItem,
  DropdownMenu,
} from '@nextui-org/dropdown';
import { useRouter, useSearchParams } from 'next/navigation';
import Icons from '@/components/ui/Icons';

const ChevronDownIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    strokeWidth={1.5}
    stroke="#FFFFFF"
    className="size-6"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      d="m19.5 8.25-7.5 7.5-7.5-7.5"
    />
  </svg>
);

const JobFilters = ({ onFiltersChange }) => {
  const searchParams = useSearchParams();
  const router = useRouter();

  const [searchTerm, setSearchTerm] = useState('');
  const [selectedWorkplace, setSelectedWorkplace] = useState('All');
  const [selectedLocation, setSelectedLocation] = useState('All');
  const [selectedDepartment, setSelectedDepartment] = useState('All');
  const [selectedWorkType, setSelectedWorkType] = useState('All');

  // Update filter states based on URL parameters on mount
  useEffect(() => {
    setSearchTerm(searchParams.get('search') || '');
    setSelectedWorkplace(searchParams.get('workplace') || 'All');
    setSelectedLocation(searchParams.get('location') || 'All');
    setSelectedDepartment(searchParams.get('department') || 'All');
    setSelectedWorkType(searchParams.get('worktype') || 'All');
  }, [searchParams]);

  // Update URL and state when filters change
  const updateFilters = (updatedFilters) => {
    const params = new URLSearchParams();

    if (updatedFilters.searchTerm) {
      params.set('search', encodeURIComponent(updatedFilters.searchTerm));
    }

    if (updatedFilters.selectedWorkplace !== 'All') {
      params.set('workplace', updatedFilters.selectedWorkplace);
    }

    if (updatedFilters.selectedLocation !== 'All') {
      params.set('location', updatedFilters.selectedLocation);
    }

    if (updatedFilters.selectedDepartment !== 'All') {
      params.set('department', updatedFilters.selectedDepartment);
    }

    if (updatedFilters.selectedWorkType !== 'All') {
      params.set('worktype', updatedFilters.selectedWorkType);
    }

    router.push(`?${params.toString()}`, { scroll: false });

    onFiltersChange(updatedFilters);
  };

  // Call updateFilters whenever state changes
  useEffect(() => {
    updateFilters({
      searchTerm,
      selectedWorkplace,
      selectedLocation,
      selectedDepartment,
      selectedWorkType,
    });
  }, [
    searchTerm,
    selectedWorkplace,
    selectedLocation,
    selectedDepartment,
    selectedWorkType,
  ]);

  return (
    <div className="inset-0 py-24 flex flex-col items-center justify-center gap-6 px-[10%] bg-[#0065B1]">
      <div className="text-white">
        <h1 className="text-3xl md:text-4xl font-bold mb-4">
          Find Your Next Opportunity at Experience.com
        </h1>
        <p className="text-lg md:text-xl">
          Join a team that&apos;s driving the future of Experience Management.
          Explore our open roles and discover how you can make an impact in a
          fast-growing, innovative environment.
        </p>
      </div>

      <Input
        type="search"
        className="text-white"
        classNames={{
          inputWrapper:
            'w-full h-fit rounded-lg bg-white/30 data-[hover=true]:bg-white/40 group-data-[focus=true]:bg-white/30 shadow-none p-[0.75rem] rounded-xl',
          input:
            'placeholder:text-white group-data-[has-value=true]:text-white text-[24px]',
        }}
        fullWidth
        startContent={<Icons.Search />}
        value={searchTerm}
        onChange={(e) => setSearchTerm(e.target.value)}
        placeholder="Search.."
      />
      <div className="w-full flex gap-4">
        <Dropdown className="w-full h-fit">
          <DropdownTrigger>
            <Button
              fullWidth
              variant="light"
              className="bg-white/30 text-white justify-between w-full p-[0.75rem] h-[4rem]"
              endContent={<ChevronDownIcon />}
              size="lg"
            >
              Workplace type
            </Button>
          </DropdownTrigger>
          <DropdownMenu
            aria-label="Workplace Type"
            onAction={(value) => setSelectedWorkplace(value)}
          >
            <DropdownItem key="All">All</DropdownItem>
            <DropdownItem key="Remote">Remote</DropdownItem>
            <DropdownItem key="On-site">On-site</DropdownItem>
            <DropdownItem key="Hybrid">Hybrid</DropdownItem>
          </DropdownMenu>
        </Dropdown>
        <Dropdown className="w-full h-fit">
          <DropdownTrigger>
            <Button
              fullWidth
              variant="light"
              className="bg-white/30 text-white justify-between w-full p-[0.75rem] h-[4rem]"
              endContent={<ChevronDownIcon />}
              size="lg"
            >
              Location
            </Button>
          </DropdownTrigger>
          <DropdownMenu
            aria-label="Location"
            onAction={(value) => setSelectedLocation(value)}
          >
            <DropdownItem key="All">All</DropdownItem>
            <DropdownItem key="India">India</DropdownItem>
            <DropdownItem key="USA">USA</DropdownItem>
            <DropdownItem key="Canada">Canada</DropdownItem>
          </DropdownMenu>
        </Dropdown>
        <Dropdown className="w-full h-fit">
          <DropdownTrigger>
            <Button
              fullWidth
              variant="light"
              className="bg-white/30 text-white justify-between w-full p-[0.75rem] h-[4rem]"
              endContent={<ChevronDownIcon />}
              size="lg"
            >
              Department
            </Button>
          </DropdownTrigger>
          <DropdownMenu
            aria-label="Department"
            onAction={(value) => setSelectedDepartment(value)}
          >
            <DropdownItem key="All">All</DropdownItem>
            <DropdownItem key="Engineering">Engineering</DropdownItem>
            <DropdownItem key="Marketing">Marketing</DropdownItem>
            <DropdownItem key="Product">Product</DropdownItem>
            <DropdownItem key="DevOps">DevOps</DropdownItem>
          </DropdownMenu>
        </Dropdown>
        <Dropdown className="w-full h-fit">
          <DropdownTrigger>
            <Button
              fullWidth
              variant="light"
              className="bg-white/30 text-white justify-between w-full p-[0.75rem] h-[4rem]"
              endContent={<ChevronDownIcon />}
              size="lg"
            >
              Work type
            </Button>
          </DropdownTrigger>
          <DropdownMenu
            aria-label="Work Type"
            onAction={(value) => setSelectedWorkType(value)}
          >
            <DropdownItem key="All">All</DropdownItem>
            <DropdownItem key="Full Time">Full Time</DropdownItem>
            <DropdownItem key="Part Time">Part Time</DropdownItem>
            <DropdownItem key="Contract">Contract</DropdownItem>
          </DropdownMenu>
        </Dropdown>
      </div>
    </div>
  );
};

export default JobFilters;
3b:T962,export type Blog = {
  content: string;
  date_created: string;
  date_published: string | null;
  date_updated: string | null;
  id: string;
  seo: string | null;
  slug: string;
  sort: string | null;
  status: "draft" | "published";
  summary: string;
  title: string;
  user_created: string;
  user_updated: string | null;
  client: string | null;
  cost: string | null;
  built_with: string | null;
  type: "blog";
  video_url: string | null;
  author: {
    bio: string;
    date_created: string;
    date_updated: string;
    id: string;
    job_title: string;
    name: string;
    social_media: string | null;
    sort: string | null;
    status: "published";
    user_created: string;
    user_updated: string | null;
    posts: string[];
    image: {
      id: string;
      storage: string;
      filename_disk: string;
      filename_download: string;
      title: string;
      type: string;
      folder: string | null;
      uploaded_by: string;
      created_on: string;
      modified_by: string | null;
      modified_on: string;
      charset: string | null;
      filesize: number;
      width: number | null;
      height: number | null;
      duration: number | null;
      embed: string | null;
      description: string | null;
      location: string | null;
      tags: string | null;
      metadata: string | null;
      focal_point_x: number | null;
      focal_point_y: number | null;
      tus_id: string | null;
      tus_data: string | null;
      uploaded_on: string;
    };
  } | null;
  category: {
    color: string;
    headline: string;
    id: string;
    seo: string | null;
    slug: string;
    sort: string | null;
    title: string;
  } | null;
  image: {
    id: string;
    storage: string;
    filename_disk: string;
    filename_download: string;
    title: string;
    type: string;
    folder: string | null;
    uploaded_by: string;
    created_on: string;
    modified_by: string | null;
    modified_on: string;
    charset: string | null;
    filesize: number;
    width: number | null;
    height: number | null;
    duration: number | null;
    embed: string | null;
    description: string | null;
    location: string | null;
    tags: string | null;
    metadata: string | null;
    focal_point_x: number | null;
    focal_point_y: number | null;
    tus_id: string | null;
    tus_data: string | null;
    uploaded_on: string;
  } | null;
};
3c:T1ed5,'use client';

import React from 'react';
import MarkdownRenderer from '@/components/MarkdownRendered';
import Image from 'next/image';
import {
  Modal,
  ModalContent,
  ModalHeader,
  ModalBody,
  ModalFooter,
  Button,
  useDisclosure,
  Input,
  Chip,
  Card,
} from '@nextui-org/react';
import ShareButtons from '../../../shared/ShareButtons';
import LocalVideo from './LocalVideo';

const inputFields = [
  {
    placeholder: 'Enter your full name',
    startContent: (
      <Image
        height={24}
        width={24}
        src={'/assets/icons/profile-placeholder.svg'}
        alt=""
      />
    ),
  },
  {
    placeholder: 'Enter your email',
    type: 'email',
    startContent: (
      <Image
        height={24}
        width={24}
        src={'/assets/icons/mail-icon.svg'}
        alt=""
      />
    ),
  },
  {
    placeholder: 'Enter your company name',
    startContent: (
      <Image
        height={24}
        width={24}
        src={'/assets/icons/office-icon.svg'}
        alt=""
      />
    ),
  },
  {
    placeholder: 'Enter your job title',
    startContent: (
      <Image height={24} width={24} src={'/assets/icons/job-icon.svg'} alt="" />
    ),
  },
  {
    placeholder: 'Enter your country',
    startContent: (
      <Image height={24} width={24} src={'/assets/icons/country.svg'} alt="" />
    ),
  },
];

const ResourceHero = ({ item, type, slug }) => {
  let content;
  const shareUrl = `https://expdev.dabbo.net/resources-center/resource/${slug}`;
  const shareTitle = `Great ${type}!`;

  const { isOpen, onOpen, onOpenChange } = useDisclosure();

  switch (type) {
    case 'blog':
      content = (
        <section className="flex flex-col lg:flex-row gap-[3rem] md:gap-[4rem] lg:gap-[5rem] items-center justify-center">
          <Image
            className="w-1/2 max-w-[780px] max-h-[470px] h-full rounded-[3rem]"
            src={item.imgSrc}
            alt={item.name}
            width={780}
            height={470}
          />
          <div className="h-full w-1/2 space-y-[1.3rem]">
            <div className="w-full h-fit space-y-[1rem]">
              <small className="text-Primary2 text-[1.25rem] font-medium">
                {item.type}
              </small>
              <h1 className="text-[#173057] font-semibold text-[3.5rem] leading-tight">
                {item.name}
              </h1>
            </div>
            <MarkdownRenderer className="text-[#475467] text-[1.5rem] ">
              {item.overview}
            </MarkdownRenderer>
            <div className="w-fit h-fit bg-[#F3F4F7] rounded-[1rem] py-[0.75rem] px-[1rem] flex items-center justify-between gap-[4rem]">
              <p className="text-[#173057] flex flex-col">
                <span className="text-[1rem]">Writer</span>
                <span className="text-[1rem] font-bold">{item.writer}</span>
              </p>
              <p className="text-[#173057] flex flex-col">
                <span className="text-[1rem]">Read Time</span>
                <span className="text-[1rem] font-bold">{item.readTime}</span>
              </p>
              <p className="text-[#173057] flex flex-col">
                <span className="text-[1rem]">Date</span>
                <span className="text-[1rem] font-bold">
                  {item.publishedAt}
                </span>
              </p>
            </div>
            <div className="w-full h-fit flex flex-wrap gap-[1rem]">
              {item.tags.map((tag, _) => (
                <Chip
                  key={tag}
                  className="w-fit h-fit bg-[#F3F4F7] text-Primary2 font-medium rounded-[2rem] py-[0.375rem] px-[0.5rem]"
                >
                  {tag}
                </Chip>
              ))}
            </div>
          </div>
        </section>
      );
      break;
    case 'whitepaper':
      content = (
        <section className="flex flex-col lg:flex-row gap-[3rem] md:gap-[4rem] lg:gap-[5rem] items-center justify-center">
          <div className="h-full w-1/2 space-y-[1.5rem]">
            <div className="h-full w-fit space-y-[.75rem]">
              <h1 className="text-[#173057] font-semibold text-[3.5rem] leading-tight">
                {item.name}
              </h1>
              <MarkdownRenderer className="text-[#475467] text-[1.5rem] ">
                {item.overview}
              </MarkdownRenderer>
            </div>
            <span className="flex items-center text-Primary2 text-[1.25rem] font-semibold gap-[.75rem]">
              <Image
                src={'/assets/icons/time.svg'}
                alt="time"
                width={32}
                height={32}
              />
              {item.date}
            </span>
            <div className="w-full h-fit flex items-center justify-between gap-4">
              <Button
                onClick={onOpen}
                className="bg-Primary2 text-white text-[1.125rem] font-semibold px-[10vh] py-[1.5rem]"
              >
                Reserve Your Spot
              </Button>
              <ShareButtons shareUrl={shareUrl} title={shareTitle} />
            </div>
          </div>
          <Image
            className="w-1/2 h-full rounded-[3rem]"
            src={item.imgSrc}
            alt={item.name}
            width={780}
            height={380}
          />
          <Modal
            isOpen={isOpen}
            onOpenChange={onOpenChange}
            className="p-[1rem] rounded-[1rem]"
            hideCloseButton
          >
            <ModalContent>
              {(onClose) => (
                <>
                  <form onSubmit={onClose} className="w-full h-full">
                    <ModalHeader className="flex flex-col items-center text-center justify-center gap-[1rem] mb-[1rem]">
                      <h1 className="text-[#173057] text-[2rem] font-medium">
                        Reserve your spot
                      </h1>
                      <p className="text-[#4B4E4B] text-[1.25rem] ">
                        To enhance your knowledge, fill in the form below with
                        your details to reserve your spot in our upcoming
                        webinar.
                      </p>
                    </ModalHeader>
                    <ModalBody className="">
                      {inputFields.map((field, index) => (
                        <Input
                          key={index}
                          placeholder={field.placeholder}
                          startContent={field.startContent}
                          variant="bordered"
                          fullWidth
                          classNames={{
                            inputWrapper: 'border-[#E6E6E6] h-12',
                            input: 'placeholder:text-[#A9A9A9] text-Primary',
                          }}
                        />
                      ))}
                    </ModalBody>
                    <ModalFooter>
                      <Button
                        type="submit"
                        fullWidth
                        className="bg-Primary2 text-[1rem] font-semibold text-white py-[1.5rem]"
                      >
                        Confirm Registration
                      </Button>
                    </ModalFooter>
                  </form>
                </>
              )}
            </ModalContent>
          </Modal>
        </section>
      );
      break;
    case 'video':
      content = (
        <Card className="w-full h-fit p-[2rem] space-y-[2rem] rounded-[1rem] shadow-articleCardShadow bg-white">
          <LocalVideo
            src={item.vidSrc}
            heading={item.name}
            title={item.name}
            alt={item.name}
            shareUrl={shareUrl}
          />
        </Card>
      );
      break;
    default:
      content = null;
      break;
  }

  return content;
};

export default ResourceHero;
3d:T5dd,import { NextResponse } from "next/server";
import archiver from "archiver";
import { PassThrough } from "stream";
import { getScreenBlob } from "@/utils/getScreenBlob";

export async function POST(req: Request) {
  const { imageUrls, zipName } = await req.json();

  const stream = new PassThrough();
  const archive = archiver("zip", { zlib: { level: 9 } });

  // Set up event listeners
  archive.on("warning", (err) => {
    if (err.code === "ENOENT") {
      console.warn("Archiver warning:", err.message);
    } else {
      throw err;
    }
  });

  archive.on("error", (err) => {
    throw err;
  });

  // Pipe archive data to the stream
  archive.pipe(stream);

  // Fetch images and add them to the archive
  const blobs = await Promise.all(
    imageUrls.map((imageUrl: string) => getScreenBlob(imageUrl)),
  );
  const buffers = await Promise.all(blobs.map((blob) => blob.arrayBuffer()));

  buffers.forEach((buffer, index) => {
    const fileName = `${zipName}_${index + 1}.png`;
    archive.append(Buffer.from(buffer), { name: fileName });
  });

  // Finalize the archive
  await archive.finalize();

  // Collect stream data into a Blob
  const bufferChunks: Uint8Array[] = [];
  for await (const chunk of stream) {
    bufferChunks.push(chunk);
  }
  const finalBuffer = Buffer.concat(bufferChunks);

  return new NextResponse(finalBuffer, {
    headers: {
      "Content-Type": "application/zip",
      "Content-Disposition": `attachment; filename="${zipName}.zip"`,
    },
  });
}
d:["$","$L1a",null,{"highlights":[{"id":"passwordless-auth","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/auth.ts","title":"Passwordless OTP authentication with shaped JWT/session","description":"Custom NextAuth Credentials provider verifies OTPs, enriches JWT/session with profile fields, and exposes tokens for server actions to streamline secure sign-in. # Dipzin","code":"$1b"},{"id":"desktop-navigator","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/app/(explorer)/_components/navigator/src/desktop-navigator-view.tsx","title":"Animated desktop navigator with query-aware, contextual search","description":"Built a polished, scalable navigation surface using Framer Motion, pattern-to-API mapping, and query state hooks that surface intelligent suggestions and keep search context in sync across the UI. # Dipzin","code":"$1c"},{"id":"metadata-pipeline","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/app/(explorer)/_utils/createMetadata.ts","title":"Dynamic SEO metadata pipeline with domain-driven keywords","description":"Generates Next.js metadata by fetching domain data and composing keyword-rich titles/descriptions based on platform, pattern, and filters—normalizes queries and guards against bad inputs to boost discoverability. # Dipzin","code":"$1d"},{"id":"app-data-dirty-submit","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/apps-management/[platform]/[slug]/[id]/app-details/_hooks/useAppData.ts","title":"Minimal-diff form updates via react-hook-form dirty fields","description":"Sends only changed fields to the API to cut payload size and side effects, improving performance and reliability of admin operations at scale. # Dipzin","code":"$1e"},{"id":"fetch-data-hook","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/app/(explorer)/_hooks/useFetchData.tsx","title":"Domain-smart data fetching with query correction and adaptive pagination","description":"Normalizes filters (e.g., flows → flowActions), adjusts page size per pattern, and centralizes pagination/suggestions to keep UI logic clean and consistent. # Dipzin","code":"$1f"},{"id":"onboarding-flows","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/app/(onboarding)/_hooks/usePersonalize.ts","title":"Multi-step onboarding and personalization with server actions","description":"Fetches interests with auth, persists selections, updates NextAuth sessions, and manages robust step state for a seamless, tailored first-run experience. # Dipzin","code":"$20"},{"id":"apps-transform","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/apps-management/_utils/transformData.ts","title":"Typed adapters: Strapi → normalized, UI-ready domain models","description":"Transforms raw API responses into typed structures with deterministic platform mapping and nested asset handling, reducing UI complexity and runtime bugs. # Dipzin","code":"$21"},{"id":"create-app-form","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/apps-management/_create-app-modal/_componets/app-details-form.tsx","title":"Create-app form with schema validation and instant feedback","description":"React Hook Form + Zod validations, sensible defaults, and guardrails to prevent bad submissions and speed up creation. # Dipzin","code":"$22"},{"id":"search-apps","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/apps-management/_actions/searchApps.ts","title":"Fresh, precise app search using server actions + Strapi queries","description":"Combines Next.js server actions, qs-crafted filters, and no-store caching to deliver accurate, up-to-date search results with low latency. # Dipzin","code":"$23"},{"id":"get-apps-action","repo":"dabbonet/dipzin-dashboard-next","ref":"dev","file":"src/app/(main)/apps-management/_actions/getApps.ts","title":"Server action for typed, fresh app listings","description":"Centralizes Strapi querying with pagination and no-store hints to deliver always-current admin views with minimal latency. # Dipzin","code":"$24"},{"id":"use-screens","repo":"dabbonet/dipzin-dashboard-next","ref":"dev","file":"src/app/(main)/apps-management/[platform]/[slug]/[id]/screens-management/_hooks/useScreens.ts","title":"Screens data hook with selective refetch and paging","description":"Fetches screens by app with stable keys, handles loading/error, and invalidates precisely after mutations. # Dipzin","code":"$25"},{"id":"use-screen","repo":"dabbonet/dipzin-dashboard-next","ref":"dev","file":"src/app/(main)/apps-management/[platform]/[slug]/[id]/screens-management/_screen/_hooks/useScreen.ts","title":"Single-screen lifecycle hook for edit flows","description":"Centralizes fetch/update/delete for a screen and emits change events to keep lists and details in sync. # Dipzin","code":"$26"},{"id":"screens-actions","repo":"dabbonet/dipzin-dashboard-next","ref":"dev","file":"src/app/(main)/apps-management/[platform]/[slug]/[id]/screens-management/_components/screens-actions.tsx","title":"Inline, bulk screen actions with optimistic UX","description":"Publish, duplicate, and delete with confirmations, permission-aware availability, and fast optimistic updates. # Dipzin","code":"$27"},{"id":"use-app-filters","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/apps-management/_hooks/useAppFilters.ts","title":"Composable app filters with URL/query synchronization","description":"Debounced search, reset flows, and deep-linkable filters keep navigation predictable across sessions and shares. # Dipzin","code":"$28"},{"id":"sitemap","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/app/sitemap.ts","title":"Dynamic, SEO-optimized sitemap for deep content coverage","description":"Generates a comprehensive Next.js sitemap from domain data with robust guards and visibility rules, keeping search engines in sync as content scales. # Dipzin","code":"$29"},{"id":"mobile-onboarding","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/components/Account/onboarding-modal/mobile-onboarding.tsx","title":"Mobile-first onboarding modal with progressive personalization","description":"Stepwise flow with accessible controls and server-action persistence that captures interests and tailors the first-run experience. # Dipzin","code":"$2a"},{"id":"user-menu","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/components/Account/user-menu/src/user-menu.tsx","title":"Session-aware account menu with secure, role-based actions","description":"Responsive user menu driven by NextAuth session state, gating sensitive routes, and providing a clean path to account settings and sign-out. # Dipzin","code":"$2b"},{"id":"download-screen-hook","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/hooks/useDownloadScreen.ts","title":"Secure screen download hook with safe blob lifecycles","description":"Encapsulates auth-aware fetch, blob handling, filename inference, and object URL cleanup for cross-browser reliability. # Dipzin","code":"$2c"},{"id":"screen-overlay","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/components/Shared/screen/src/screen-overlay.tsx","title":"High-performance overlay for focused screen interactions","description":"Composable overlay with keyboard dismissal, focus management, and subtle motion cues to keep users oriented while acting. # Dipzin","code":"$2d"},{"id":"use-category-element","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/global-patterns/_hooks/useCategoryElement.ts","title":"Category element hook for CRUD and optimistic state","description":"Manages create/update/delete flows for global patterns with lightweight optimistic updates and error recovery. # Dipzin","code":"$2e"},{"id":"recent-blogs-carousel","repo":"dabbonet/study-hive","ref":"d587a06f7716a51a9d5c76b8743244a2efa87659","file":"nextjs/src/components/recent-blogs/recent-blogs.tsx","title":"Responsive, accessible carousel with custom dot navigation","description":"Embla-style, hook-driven carousel with breakpoint-aware layouts and a11y-friendly dot controls for smooth, inclusive content discovery. # Studyhive","code":"$2f"},{"id":"custom-hits","repo":"dabbonet/study-hive","ref":"d587a06f7716a51a9d5c76b8743244a2efa87659","file":"nextjs/src/components/hits/custom-hits.tsx","title":"Algolia search with resilient loading and error UX","description":"Implements graceful stalled/error/ready states via InstantSearch hooks, delivering a dependable search experience across devices. # Studyhive","code":"$30"},{"id":"mobile-searchbar","repo":"dabbonet/study-hive","ref":"d587a06f7716a51a9d5c76b8743244a2efa87659","file":"nextjs/src/components/navbar/mobile-searchbar.tsx","title":"Mobile search bar with debounced Algolia queries","description":"InstantSearch-powered input optimized for small screens, delivering fast, relevant results without UI jank. # Studyhive","code":"$31"},{"id":"apps-pagination","repo":"dabbonet/dipzin-dashboard-next","ref":"6b7bc7eef0c029af9c73988d4ced861220af234b","file":"src/app/(main)/apps-management/_components/apps-pagination.tsx","title":"Accessible, responsive pagination for dense admin tables","description":"Keyboard-friendly, ARIA-labeled pagination that adapts to screen sizes and large datasets gracefully. # Dipzin","code":"$32"},{"id":"custom-pagination","repo":"dabbonet/study-hive","ref":"d587a06f7716a51a9d5c76b8743244a2efa87659","file":"nextjs/src/components/pagination/custom-pagination.tsx","title":"Custom pagination with accessibility and density controls","description":"Clear, keyboard-friendly pagination that adapts to content density and viewport size for smooth exploration. # Studyhive","code":"$33"},{"id":"blog-slug-page","repo":"dabbonet/study-hive","ref":"d587a06f7716a51a9d5c76b8743244a2efa87659","file":"nextjs/src/app/blogs/[slug]/page.tsx","title":"SEO-friendly blog page with rich Open Graph metadata","description":"Static generation with dynamic fallback, resilient error/loading states, and shareable social previews. # Studyhive","code":"$34"},{"id":"content-renderer","repo":"dabbonet/experience-next","ref":"dev","file":"src/components/centers/resources-center/ContentRenderer.jsx","title":"Pluggable content renderer for CMS-driven pages","description":"Maps CMS blocks to React components with guardrails, lazy loading, and fallbacks for resilient rendering. # Experience","code":"$35"},{"id":"filtration-orchestrator","repo":"dabbonet/experience-next","ref":"dev","file":"src/components/integrations/filtration/Filtration.jsx","title":"End-to-end filtration orchestrator for integrations","description":"Coordinates filter state, results, and UX affordances for snappy browsing and clear resets. # Experience","code":"$36"},{"id":"resources-filtration","repo":"dabbonet/experience-next","ref":"dev","file":"src/components/centers/resources-center/ResourcesFiltration.jsx","title":"Resource filtering UI with helpful empty states","description":"Search + filters with clear-reset affordances and instructive empty states to keep users on track. # Experience","code":"$37"},{"id":"resources-center-page","repo":"dabbonet/experience-next","ref":"dev","file":"src/app/(centers)/resources-center/page.jsx","title":"Resources Center with server-rendered discovery UX","description":"Entry page orchestrating filters, content blocks, and SSR for fast, indexable experiences across devices. # Experience","code":"$38"},{"id":"filter-list","repo":"dabbonet/experience-next","ref":"dev","file":"src/components/integrations/filtration/FilterList.jsx","title":"Composable filter list with controlled, reusable state","description":"Small, reusable filters powering integrations and resources modules with clean, predictable UX. # Experience","code":"$39"},{"id":"job-filters","repo":"dabbonet/experience-next","ref":"dev","file":"src/components/job-opportunities/JobFilters.jsx","title":"Job search filters with chip UX and keyboard support","description":"Responsive, accessible filters that refine job listings without friction, optimized for mobile and desktop. # Experience","code":"$3a"},{"id":"blog-types","repo":"dabbonet/study-hive","ref":"d587a06f7716a51a9d5c76b8743244a2efa87659","file":"nextjs/src/types/blog.ts","title":"Typed blog models for safer, faster UI development","description":"Strong TypeScript types across blog entities reduce runtime bugs and simplify component contracts. # Studyhive","code":"$3b"},{"id":"copy-button","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/components/Shared/button/CopyButton.tsx","title":"Image copy-to-clipboard with optimistic feedback","description":"Reusable button encapsulating clipboard logic and instant success/error feedback for a snappy, delightful UX. # Dipzin","code":"'use client';\n\nimport { useState } from \"react\";\nimport { useCopyScreen } from \"@/hooks/useCopyScreen\";\nimport Button, { type ButtonProps } from \"./src/button\";\n\ntype CopyButtonProps = {\n  url: string;\n  then: React.ReactNode;\n  children: React.ReactNode;\n} & Omit<ButtonProps, 'onClick' | 'disabled'>;\n\nexport const CopyButton = ({\n  url,\n  then,\n  children,\n  ...buttonProps\n}: CopyButtonProps) => {\n  const { copyImageToClipboard, loading: copying, error: copyError } = useCopyScreen();\n  const [showCopied, setShowCopied] = useState(false);\n\n  const handleCopy = async () => {\n    await copyImageToClipboard(url);\n    if (!copyError) {\n      setShowCopied(true);\n      setTimeout(() => setShowCopied(false), 2000);\n    }\n  };\n\n  return (\n    <Button\n      onClick={handleCopy}\n      disabled={copying}\n      {...buttonProps}\n    >\n      {showCopied && !copyError ? then : children}\n    </Button>\n  );\n};\n"},{"id":"resource-hero","repo":"dabbonet/experience-next","ref":"dev","file":"src/components/centers/resources-center/blocks/ResourceHero.jsx","title":"Hero block with crisp CTAs and responsive media","description":"Attention-grabbing hero that adapts layout and semantics for accessibility and conversion. # Experience","code":"$3c"},{"id":"zip-screens-api","repo":"dabbonet/dipzin-frontend","ref":"e4a1c1e0b68ff72f219a9822cecb667b69942573","file":"src/app/api/zip-screens/route.ts","title":"Serverless ZIP export API with streaming and proper headers","description":"Packages selected screens into a ZIP with auth checks, efficient streaming, and correct content-disposition for reliable downloads. # Dipzin","code":"$3d"}]}]
e:["$","section",null,{"id":"tech-stack","data-scroll-section":true,"className":"py-12 sm:py-24 px-6","children":["$","div",null,{"className":"max-w-5xl mx-auto","children":[["$","h2",null,{"className":"text-xl sm:text-2xl md:text-3xl mb-12 font-normal","data-testid":"text-tech-heading","children":"Tech Stack"}],["$","div",null,{"className":"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-8","children":[["$","div","TypeScript",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-0","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg","alt":"TypeScript logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-typescript"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-typescript","children":"TypeScript"}]]}],["$","div","React",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-1","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg","alt":"React logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-react"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-react","children":"React"}]]}],["$","div","Next.js",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-2","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-original.svg","alt":"Next.js logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-next-js"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-next-js","children":"Next.js"}]]}],["$","div","NestJS",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-3","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nestjs/nestjs-original.svg","alt":"NestJS logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-nestjs"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-nestjs","children":"NestJS"}]]}],["$","div","Tailwind CSS",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-4","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-original.svg","alt":"Tailwind CSS logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-tailwind-css"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-tailwind-css","children":"Tailwind CSS"}]]}],["$","div","Shadcn/ui",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-5","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://avatars.githubusercontent.com/u/139895814?s=200&v=4","alt":"Shadcn/ui logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-shadcn-ui"}]}],"$L3e"]}],"$L3f","$L40"]}]]}]}]
f:["$","section",null,{"id":"contact","data-scroll-section":true,"className":"py-12 sm:py-24 px-6","children":["$","div",null,{"className":"max-w-5xl mx-auto","children":[["$","h2",null,{"className":"text-xl sm:text-2xl md:text-3xl mb-12 font-normal","data-testid":"text-contact-heading","children":"Get in touch"}],["$","div",null,{"className":"space-y-6","children":[["$","a","Resume",{"href":"/resume.pdf","target":"_blank","rel":"noopener noreferrer","className":"block border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"link-resume","children":["$","div",null,{"className":"flex flex-col sm:flex-row sm:items-center gap-2","children":[["$","span",null,{"className":"text-xs sm:text-sm text-muted-foreground w-24","data-testid":"text-link-resume-label","children":["Resume",":"]}],["$","span",null,{"className":"text-xs sm:text-sm underline decoration-dotted","data-testid":"text-link-resume-value","children":"View resume"}]]}]}],["$","a","Email",{"href":"mailto:abdelrhmanx74@gmail.com","target":"$undefined","rel":"$undefined","className":"block border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"link-email","children":["$","div",null,{"className":"flex flex-col sm:flex-row sm:items-center gap-2","children":[["$","span",null,{"className":"text-xs sm:text-sm text-muted-foreground w-24","data-testid":"text-link-email-label","children":["Email",":"]}],["$","span",null,{"className":"text-xs sm:text-sm underline decoration-dotted","data-testid":"text-link-email-value","children":"abdelrhmanx74@gmail.com"}]]}]}],["$","a","Phone",{"href":"tel:+201032257852","target":"$undefined","rel":"$undefined","className":"block border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"link-phone","children":["$","div",null,{"className":"flex flex-col sm:flex-row sm:items-center gap-2","children":[["$","span",null,{"className":"text-xs sm:text-sm text-muted-foreground w-24","data-testid":"text-link-phone-label","children":["Phone",":"]}],["$","span",null,{"className":"text-xs sm:text-sm underline decoration-dotted","data-testid":"text-link-phone-value","children":"+201032257852"}]]}]}],["$","a","LinkedIn",{"href":"https://linkedin.com/in/abdelrhmanx74","target":"_blank","rel":"noopener noreferrer","className":"block border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"link-linkedin","children":["$","div",null,{"className":"flex flex-col sm:flex-row sm:items-center gap-2","children":[["$","span",null,{"className":"text-xs sm:text-sm text-muted-foreground w-24","data-testid":"text-link-linkedin-label","children":["LinkedIn",":"]}],["$","span",null,{"className":"text-xs sm:text-sm underline decoration-dotted","data-testid":"text-link-linkedin-value","children":"linkedin.com/in/abdelrhmanx74"}]]}]}],["$","a","GitHub",{"href":"https://github.com/abdelrhmanx74","target":"_blank","rel":"noopener noreferrer","className":"block border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"link-github","children":["$","div",null,{"className":"flex flex-col sm:flex-row sm:items-center gap-2","children":[["$","span",null,{"className":"text-xs sm:text-sm text-muted-foreground w-24","data-testid":"text-link-github-label","children":["GitHub",":"]}],["$","span",null,{"className":"text-xs sm:text-sm underline decoration-dotted","data-testid":"text-link-github-value","children":"github.com/abdelrhmanx74"}]]}]}]]}],["$","div",null,{"className":"mt-8 pt-8 border-t border-border","children":["$","p",null,{"className":"text-xs sm:text-sm text-muted-foreground text-center","data-testid":"text-footer-copyright","children":["© ",2025," Abdelrhman Mahmoud. Built with Next.js, TypeScript & caffeine."]}]}]]}]}]
10:["$","script","script-0",{"src":"/portfolio/_next/static/chunks/72439a227d5e6800.js","async":true,"nonce":"$undefined"}]
11:["$","script","script-1",{"src":"/portfolio/_next/static/chunks/28cbca02560df345.js","async":true,"nonce":"$undefined"}]
12:["$","$L41",null,{"children":["$L42",["$","$L43",null,{"promise":"$@44"}]]}]
13:["$","$1","h",{"children":[null,[["$","$L45",null,{"children":"$L46"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L47",null,{"children":["$","div",null,{"hidden":true,"children":["$","$48",null,{"fallback":null,"children":"$L49"}]}]}]]}]
15:["$","link","0",{"rel":"stylesheet","href":"/portfolio/_next/static/chunks/292747b4a507fd8f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]
16:["$","p",null,{"className":"text-xs sm:text-sm text-muted-foreground mb-2","data-testid":"badge-project-type-2","children":"Client Project"}]
17:["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed mb-4","data-testid":"text-project-description-2","children":"Developed a course library platform using new technologies I had never worked with before. Learned quickly and delivered the full site in about a month, including Typesense integration and search functionality for better UX and Custom made markdown for a blog center page."}]
18:["$","div",null,{"className":"flex flex-wrap gap-2 text-xs sm:text-sm text-muted-foreground","children":[["$","span","NextJS",{"data-testid":"badge-project-tech-NextJS","children":["[","NextJS","]"]}],["$","span","Typesense",{"data-testid":"badge-project-tech-Typesense","children":["[","Typesense","]"]}],["$","span","Shadcn",{"data-testid":"badge-project-tech-Shadcn","children":["[","Shadcn","]"]}]]}]
19:["$","div","OSSkins (Open Source Skins)",{"className":"border-l-2 border-border pl-6 hover-elevate transition-all","data-testid":"card-project-3","children":[["$","div",null,{"className":"mb-2","children":[["$","a",null,{"href":"https://github.com/Abdelrhmanx74/osskins","target":"_blank","rel":"noopener noreferrer","className":"text-base sm:text-lg md:text-xl mb-1 underline decoration-dotted inline-block hover:text-primary transition-colors","data-testid":"text-project-title-3","children":"OSSkins (Open Source Skins)"}],["$","p",null,{"className":"text-xs sm:text-sm text-muted-foreground mb-2","data-testid":"badge-project-type-3","children":"Personal Project"}]]}],["$","p",null,{"className":"text-xs sm:text-sm md:text-base leading-relaxed mb-4","data-testid":"text-project-description-3","children":"Built a free desktop app for a game I play, as an alternative to a paid tool that costs $20. Created a cross-platform app using Tauri and React, reaching over 1,000 active users."}],["$","div",null,{"className":"flex flex-wrap gap-2 text-xs sm:text-sm text-muted-foreground","children":[["$","span","Tauri",{"data-testid":"badge-project-tech-Tauri","children":["[","Tauri","]"]}],["$","span","NextJS",{"data-testid":"badge-project-tech-NextJS","children":["[","NextJS","]"]}],["$","span","Zustand",{"data-testid":"badge-project-tech-Zustand","children":["[","Zustand","]"]}]]}]]}]
3e:["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-shadcn-ui","children":"Shadcn/ui"}]
3f:["$","div","Zustand",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-6","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://repository-images.githubusercontent.com/180328715/fca49300-e7f1-11ea-9f51-cfd949b31560","alt":"Zustand logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-zustand"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-zustand","children":"Zustand"}]]}]
40:["$","div","NextAuth.js",{"className":"flex flex-col items-center gap-3 hover-elevate transition-all p-4","data-testid":"tech-item-7","children":[["$","div",null,{"className":"relative w-12 h-12 md:w-16 md:h-16","children":["$","$L6",null,{"src":"https://next-auth.js.org/img/logo/logo-sm.png","alt":"NextAuth.js logo","fill":true,"className":"object-contain filter brightness-90 dark:brightness-100","sizes":"(max-width: 768px) 48px, 64px","loading":"lazy","data-testid":"img-tech-nextauth-js"}]}],["$","span",null,{"className":"text-xs sm:text-sm text-center","data-testid":"text-tech-nextauth-js","children":"NextAuth.js"}]]}]
46:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1, maximum-scale=5"}],["$","meta","2",{"name":"theme-color","content":"#0f172a"}]]
42:null
4a:I[29730,["/portfolio/_next/static/chunks/48796fcff804b0d1.js","/portfolio/_next/static/chunks/2298bc66cf7be31b.js"],"IconMark"]
44:{"metadata":[["$","title","0",{"children":"Abdelrhman Mahmoud | Frontend Developer"}],["$","meta","1",{"name":"description","content":"Frontend developer specializing in React, Next.js, and TypeScript. Building fast, scalable web applications with modern technologies."}],["$","meta","2",{"name":"author","content":"Abdelrhman Mahmoud"}],["$","meta","3",{"name":"keywords","content":"Frontend Developer,React,Next.js,TypeScript,Web Development,Abdelrhman Mahmoud,Next.js developer,React developer,frontend engineer portfolio,Egypt,Alexandria"}],["$","meta","4",{"name":"creator","content":"Abdelrhman Mahmoud"}],["$","meta","5",{"name":"robots","content":"index, follow"}],["$","meta","6",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","7",{"rel":"canonical","href":"https://abdelrhmanx74.github.io/portfolio/"}],["$","meta","8",{"property":"og:title","content":"Abdelrhman Mahmoud | Frontend Developer"}],["$","meta","9",{"property":"og:description","content":"Frontend developer specializing in React, Next.js, and TypeScript"}],["$","meta","10",{"property":"og:url","content":"https://abdelrhmanx74.github.io/portfolio/"}],["$","meta","11",{"property":"og:site_name","content":"Abdelrhman Mahmoud Portfolio"}],["$","meta","12",{"property":"og:locale","content":"en_US"}],["$","meta","13",{"property":"og:image","content":"https://abdelrhmanx74.github.io/portfolio/me.jpg"}],["$","meta","14",{"property":"og:image:width","content":"1200"}],["$","meta","15",{"property":"og:image:height","content":"630"}],["$","meta","16",{"property":"og:image:alt","content":"Abdelrhman Mahmoud smiling in front of a neutral background"}],["$","meta","17",{"property":"og:type","content":"website"}],["$","meta","18",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","19",{"name":"twitter:site","content":"@abdelrhmanx74"}],["$","meta","20",{"name":"twitter:title","content":"Abdelrhman Mahmoud | Frontend Developer"}],["$","meta","21",{"name":"twitter:description","content":"Frontend developer specializing in React, Next.js, and TypeScript"}],["$","meta","22",{"name":"twitter:image","content":"https://abdelrhmanx74.github.io/portfolio/me.jpg"}],["$","link","23",{"rel":"icon","href":"/portfolio/favicon.ico?favicon.0b3bf435.ico","sizes":"256x256","type":"image/x-icon"}],["$","$L4a","24",{}]],"error":null,"digest":"$undefined"}
49:"$44:metadata"
